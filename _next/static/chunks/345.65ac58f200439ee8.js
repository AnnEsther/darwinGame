"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{5345:(e,s,t)=>{class i extends Phaser.Scene{create(){this.add.text(300,250,"Company Logo",{fontSize:"32px",fill:"#fff"}),this.add.text(280,300,"Loading...",{fontSize:"24px",fill:"#fff"}),this.time.delayedCall(2e3,()=>{this.scene.start("GameScene")})}constructor(){super("LandingScene")}}Phaser.Scene;class a{update(){this._0.x+this.sceneWidth<=0?this._0.x=this._1.x+this.sceneWidth:this._1.x+this.sceneWidth<=0&&(this._1.x=this._0.x+this.sceneWidth)}setSpeed(e){this._0.setVelocityX(e),this._1.setVelocityX(e)}getHeight(){return this._0.displayHeight}setZIndex(e){this._0.setDepth(e),this._1.setDepth(e)}constructor(e,s){this.physicsGroup=e,this.sceneWidth=s.sceneWidth;var t="",i="";null==s.texture1?(t=s.texture0,i=s.texture0):(t=s.texture0,i=s.texture1),this._0=this.physicsGroup.create(s.x,s.y,t),this._0.setOrigin(s.origin[0],s.origin[1]);let a=this._0.width,o=s.displaySize[0]/a;this._0.setScale(o),this._0.setVelocityX(s.velocity),this._0.setImmovable(s.immovable),this._0.body.allowGravity=s.allowGravity,this._1=this.physicsGroup.create(this.sceneWidth,s.y,i),this._1.setOrigin(s.origin[0],s.origin[1]),this._1.setScale(o),this._1.setVelocityX(s.velocity),this._1.setImmovable(s.immovable),this._1.body.allowGravity=s.allowGravity}}class o{update(){this.scene.scale.width,this.cloud.update(),this.backgroundItem.update(),this.ground.update(),this.grass.update()}setSpeed(e){this.speed=e,this.cloud.setSpeed(.2*e),this.backgroundItem.setSpeed(.8*e),this.ground.setSpeed(e),this.grass.setSpeed(1.2*e)}constructor(e,s=200){this.scene=e,this.speed=s,this.physicsGroup=e.physics.add.group({allowGravity:!1,immovable:!0});let t=this.scene.scale.width,i=this.scene.scale.height;this.background=this.physicsGroup.create(0,0,"background"),this.background.setOrigin(0,0),this.background.setScale(1.15,1.15),this.background.setImmovable(!0),this.background.body.allowGravity=!1,this.ground=new a(this.physicsGroup,{x:0,y:i+0,texture0:"ground_0",texture1:"ground_1",origin:[0,1],displaySize:[t,i],velocity:s,immovable:!0,allowGravity:!1,sceneWidth:t});var o={x:0,y:this.ground._0.y-this.ground.getHeight()- -25,texture0:"cloud_big",texture1:null,origin:[0,0],displaySize:[t,i],velocity:.2*s,immovable:!0,allowGravity:!1,sceneWidth:t};this.cloud=new a(this.physicsGroup,o),this.cloud._0.setY(this.cloud._0.y-this.cloud._0.displayHeight),this.cloud._1.setY(this.cloud._1.y-this.cloud._1.displayHeight),this.cloud._1.flipX=!0;var r={x:0,y:this.ground._0.y-this.ground.getHeight()- -25,texture0:"cloud_small_0",texture1:null,origin:[0,0],displaySize:[t,i],velocity:.4*s,immovable:!0,allowGravity:!1,sceneWidth:t};this.cloudSmall=new a(this.physicsGroup,r),this.cloudSmall._0.setY(this.cloudSmall._0.y-this.cloudSmall._0.height-Math.random()*(i-this.cloudSmall._0.y-this.cloudSmall._0.height-100)),this.cloudSmall._1.setY(this.cloudSmall._1.y- -this.cloudSmall._0.height-Math.random()*(i-this.cloudSmall._1.y-this.cloudSmall._1.height-100));var n={x:0,y:this.ground._0.y-this.ground.getHeight()- -25,texture0:"background_item",texture1:null,origin:[0,0],displaySize:[t,i],velocity:.8*s,immovable:!0,allowGravity:!1,sceneWidth:t};this.backgroundItem=new a(this.physicsGroup,n),this.backgroundItem._0.setY(this.backgroundItem._0.y-this.backgroundItem._0.displayHeight),this.backgroundItem._1.setY(this.backgroundItem._1.y-this.backgroundItem._1.displayHeight),this.grass=new a(this.physicsGroup,{x:0,y:i,texture0:"grass_0",texture1:"grass_1",origin:[0,1],displaySize:[t,i],velocity:1.2*s,immovable:!0,allowGravity:!1,sceneWidth:t}),this.ground.setZIndex(5),this.grass.setZIndex(6)}}t(5130);class r{updateSprite(e,s,t){this.rockRect1||(this.rockRect1=this.scene.physics.add.sprite(e,s+this._sprite.height/4,null).setOrigin(.5,.5).setVisible(!1),this.rockRect1.setVelocityX(t),this.rockRect1.body.setAllowGravity(!1)),this.rockCircle1||(this.rockCircle1=this.scene.physics.add.sprite(e,s-this._sprite.height/4,null).setOrigin(.5,.5).setVisible(!1),this.rockCircle1.body.setCircle(10),this.rockCircle1.body.setAllowGravity(!1),this.rockCircle1.setVelocityX(t)),this.rockCircle2||(this.rockCircle2=this.scene.physics.add.sprite(e,s,null).setOrigin(.5,.5).setVisible(!1),this.rockCircle2.body.setCircle(10),this.rockCircle2.body.setAllowGravity(!1),this.rockCircle2.setVelocityX(t)),this.rockCircle3||(this.rockCircle3=this.scene.physics.add.sprite(e,s,null).setOrigin(.5,.5).setVisible(!1),this.rockCircle3.body.setCircle(10),this.rockCircle3.body.setAllowGravity(!1),this.rockCircle3.setVelocityX(t));var i=Math.floor(3*Math.random())+1;switch(this._sprite.setTexture("rock"+i),i){case 1:this.rockRect1.setSize(.84*this._sprite.width,this._sprite.height/3,!0),this.rockCircle1.body.setCircle(.3*this._sprite.width),this.rockCircle1.body.setOffset(-15,-8),this.rockCircle2.body.setCircle(20),this.rockCircle2.body.setOffset(-33,5),this.rockCircle3.body.setCircle(20),this.rockCircle3.body.setOffset(40,-78);break;case 2:this.rockRect1.setSize(.95*this._sprite.width,this._sprite.height/2,!0),this.rockCircle1.body.setCircle(this._sprite.height/2*.8),this.rockCircle1.body.setOffset(-50,-20),this.rockCircle2.body.setCircle(20),this.rockCircle2.body.setOffset(-70,-10),this.rockCircle3.body.setCircle(20),this.rockCircle3.body.setOffset(-70,-10);break;case 3:this.rockRect1.setSize(.95*this._sprite.width,.6*this._sprite.height,!0),this.rockRect1.setOffset(-60,-40),this.rockCircle1.body.setCircle(this._sprite.height/2*.72),this.rockCircle1.body.setOffset(-30,-10),this.rockCircle2.body.setCircle(20),this.rockCircle2.body.setOffset(-50,-10),this.rockCircle3.body.setCircle(20),this.rockCircle3.body.setOffset(-50,-10);break;case 4:this.rockRect1.setSize(.9*this._sprite.width,.4*this._sprite.height,!0),this.rockRect1.setOffset(-60,-40),this.rockCircle1.body.setCircle(this._sprite.height/2*.74),this.rockCircle1.body.setOffset(-48,-10),this.rockCircle2.body.setCircle(20),this.rockCircle2.body.setOffset(-15,-70),this.rockCircle3.body.setCircle(20),this.rockCircle3.body.setOffset(-15,-70)}this._colliders=[this.rockRect1,this.rockCircle1,this.rockCircle2,this.rockCircle3]}setVelocityX(e){this._sprite.setVelocityX(e),this.rockCircle1.setVelocityX(e),this.rockCircle2.setVelocityX(e),this.rockCircle3.setVelocityX(e),this.rockRect1.setVelocityX(e)}setX(e){this._sprite.setX(e),this.rockCircle1.x=e,this.rockCircle2.x=e,this.rockCircle3.x=e,this.rockRect1.x=e}resetRockPos(e){this.setVelocityX(0),this.updateSprite();var s=this.scene.scale.width+Math.random()*this.scene.scale.width;this.setX(s),this.playerPassed=!1,this.setVelocityX(e)}leftScreen(){return this._sprite.x+this._sprite.width/2<0}getColliders(){return this._colliders}constructor(e,s,t,i){this.scene=e,this._colliders=[],this._sprite=this.scene.physics.add.sprite(s,t,"rock1"),this._sprite.body.setAllowGravity(!1),this._sprite.setVelocityX(i),this._sprite.setImmovable(!0),this._sprite.setBounce(0),this._sprite.playerPassed=!1,this.updateSprite(s,t,i)}}class n{addPixels(e){Number.isFinite(e)&&(this._meters+=e*this.metersPerPixel,this._render())}addBySpeedAndDelta(e,s){Number.isFinite(e)&&Number.isFinite(s)&&this.addPixels(Math.abs(s/1e3*e))}setMeters(e){this._meters=Math.max(0,Number(e)||0),this._render()}getMeters(){return this._meters}_render(){let e=Math.floor(this._meters),s=String(e).length,t=Math.min(this.maxDigits,Math.max(this.minDigits,s)),i=String(e).padStart(t,"0");this.valueText.setText(i)}setLabel(e){this.label=e,this.labelText.setText(this.label)}setPosition(e,s){this.x=e,this.y=s,this.labelText.setPosition(this.x,this.y),this.valueText.setPosition(this.x+60,this.y)}constructor(e,s={}){var t,i,a,o,r,n,h;this.scene=e,this.x=null!=(t=s.x)?t:10,this.y=null!=(i=s.y)?i:10,this.label=null!=(a=s.label)?a:"Score",this.minDigits=Math.max(1,null!=(o=s.minDigits)?o:5),this.maxDigits=Math.max(this.minDigits,null!=(r=s.maxDigits)?r:10),this.metersPerPixel=null!=(n=s.metersPerPixel)?n:.01,this.fontSize=null!=(h=s.fontSize)?h:18,this._meters=0,this.labelText=e.add.text(this.x,this.y,this.label,{fontFamily:"monospace",fontSize:"".concat(this.fontSize,"px"),color:"#ffffff"}).setDepth(1e3).setScrollFactor(0),this.valueText=e.add.text(this.x+60,this.y,"",{fontFamily:"monospace",fontSize:"".concat(this.fontSize,"px"),color:"#ffff00"}).setDepth(1e3).setScrollFactor(0),this._render()}}class h{getColliders(){return this._activeCoins}spawnCoin(e,s){}setVelocityX(e){this._activeCoins.forEach(s=>null==s?void 0:s.setVelocityX(e))}spawnCoinsArc(e,s){let{minCount:t=1,maxCount:i=6,arcWidth:a=300,arcHeight:o=200,startDeg:r=-30,endDeg:n=30,speedX:h=-200,scale:d=.5}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=new Phaser.Curves.Ellipse(e,s,a,o);l.setStartAngle(r),l.setEndAngle(n),l.setClockwise(!1);var c=t+Math.floor(Math.random()*(i-1));let m=l.getSpacedPoints(c);for(let e=0;e<c;e++){let s=m[e],t=this.scene.physics.add.sprite(s.x,s.y,"coin0000");t.play("coinSpin"),t.setScale(d),t.body.setAllowGravity(!1),t.body.setVelocityX(h),t.body.setSize(t.displayWidth,t.displayHeight,!0),t.setCollideWorldBounds(!1),t.setBounce(0),this._activeCoins.push(t)}}constructor(e){this.scene=e,this.scene.anims.create({key:"coinSpin",frames:[{key:"coin0000"},{key:"coin0001"},{key:"coin0002"},{key:"coin0003"},{key:"coin0004"},{key:"coin0005"}],frameRate:14,repeat:-1}),this._activeCoins=[]}}let d=["LizardRun_000001","monkey_1","ostrich","man"];class l{getColliders(){return this._currPlayer}getX(){return this._currPlayer.x}setX(e){return this._currPlayer.x=e}setVelocityX(e){this._currPlayer.setVelocityX(e)}updateGravity(e,s,t){this._currPlayer.body.setGravityY(s/t*e)}createAnims(){this.scene.anims.create({key:"monkey_run",frames:[{key:"monkey_1"},{key:"monkey_2"},{key:"monkey_3"},{key:"monkey_4"},{key:"monkey_5"},{key:"monkey_6"},{key:"monkey_7"},{key:"monkey_8"},{key:"monkey_9"},{key:"monkey_10"},{key:"monkey_11"},{key:"monkey_12"},{key:"monkey_13"},{key:"monkey_14"},{key:"monkey_15"},{key:"monkey_16"},{key:"monkey_17"},{key:"monkey_18"},{key:"monkey_19"},{key:"monkey_20"},{key:"monkey_21"},{key:"monkey_22"}],frameRate:14,repeat:-1}),this.scene.anims.create({key:"monkey_jump",frames:[{key:"monkeyJump_1"},{key:"monkeyJump_2"},{key:"monkeyJump_3"},{key:"monkeyJump_4"},{key:"monkeyJump_5"},{key:"monkeyJump_6"},{key:"monkeyJump_7"},{key:"monkeyJump_8"},{key:"monkeyJump_9"},{key:"monkeyJump_10"},{key:"monkeyJump_11"},{key:"monkeyJump_12"},{key:"monkeyJump_13"},{key:"monkeyJump_14"},{key:"monkeyJump_15"},{key:"monkeyJump_16"},{key:"monkeyJump_17"},{key:"monkeyJump_18"},{key:"monkeyJump_19"},{key:"monkeyJump_20"},{key:"monkeyJump_21"},{key:"monkeyJump_22"},{key:"monkeyJump_23"},{key:"monkeyJump_24"},{key:"monkeyJump_25"},{key:"monkeyJump_26"}],frameRate:14,repeat:0}),this._currPlayer.on("animationcomplete-monkey_jump",()=>{this._currPlayer.play("monkey_run")}),this.scene.anims.create({key:"lizard_run",frames:[{key:"LizardRun_000001"},{key:"LizardRun_000002"},{key:"LizardRun_000003"},{key:"LizardRun_000004"},{key:"LizardRun_000005"},{key:"LizardRun_000006"},{key:"LizardRun_000007"},{key:"LizardRun_000008"},{key:"LizardRun_000009"},{key:"LizardRun_000010"}],frameRate:14,repeat:-1}),this.scene.anims.create({key:"lizard_jump",frames:[{key:"LizardJump_000001"},{key:"LizardJump_000002"},{key:"LizardJump_000003"},{key:"LizardJump_000004"},{key:"LizardJump_000005"},{key:"LizardJump_000006"},{key:"LizardJump_000007"},{key:"LizardJump_000008"},{key:"LizardJump_000009"},{key:"LizardJump_000010"},{key:"LizardJump_000011"},{key:"LizardJump_000012"},{key:"LizardJump_000013"},{key:"LizardJump_000014"},{key:"LizardJump_000015"},{key:"LizardJump_000016"},{key:"LizardJump_000017"},{key:"LizardJump_000018"}],frameRate:14,repeat:0}),this._currPlayer.on("animationcomplete-lizard_jump",()=>{this._currPlayer.play("lizard_run")})}updateLevel(e){this._currPlayer.setTexture(d[e]),this._currPlayer.setScale(.15),this._currPlayer.setCollideWorldBounds(!0),this._currPlayer.body.setSize(this._currPlayer.width,this._currPlayer.height,!0),0==e?this._currPlayer.play("lizard_run"):1==e&&(this._currPlayer.setScale(.15),this._currPlayer.play("monkey_run"))}constructor(e,s){this.scene=e,this._currPlayer=this.scene.physics.add.sprite(s.x,s.y,d[s.level]),this.setVelocityX(s.initialVelocity),this.updateLevel(s.level),this._currPlayer.body.setGravityY(s.gravityY),this.createAnims()}}class c extends Phaser.Scene{init(e){this.playerName=e.playerName||"Anonymous"}preload(){this.load.image("coin0000","assets/Coin/coin0000.png"),this.load.image("coin0001","assets/Coin/coin0001.png"),this.load.image("coin0002","assets/Coin/coin0002.png"),this.load.image("coin0003","assets/Coin/coin0003.png"),this.load.image("coin0004","assets/Coin/coin0004.png"),this.load.image("coin0005","assets/Coin/coin0005.png"),this.load.image("background","assets/Enviornment/background.png"),this.load.image("background_item","assets/Enviornment/background_item.png"),this.load.image("cloud_big","assets/Enviornment/cloud_big.png"),this.load.image("cloud_small_0","assets/Enviornment/cloud_small_0.png"),this.load.image("ground_0","assets/Enviornment/ground_0.png"),this.load.image("ground_1","assets/Enviornment/ground_1.png"),this.load.image("grass_0","assets/Enviornment/grass_0.png"),this.load.image("grass_1","assets/Enviornment/grass_1.png"),this.load.image("rock1","assets/Rock/rock1.png"),this.load.image("rock2","assets/Rock/rock2.png"),this.load.image("rock3","assets/Rock/rock3.png"),this.load.image("rock4","assets/Rock/rock4.png"),this.load.image("monkey_1","assets/monkey/run/MONKEY_RUN_TK020001 Background Removed.png"),this.load.image("monkey_2","assets/monkey/run/MONKEY_RUN_TK020002 Background Removed.png"),this.load.image("monkey_3","assets/monkey/run/MONKEY_RUN_TK020003 Background Removed.png"),this.load.image("monkey_4","assets/monkey/run/MONKEY_RUN_TK020004 Background Removed.png"),this.load.image("monkey_5","assets/monkey/run/MONKEY_RUN_TK020005 Background Removed.png"),this.load.image("monkey_6","assets/monkey/run/MONKEY_RUN_TK020006 Background Removed.png"),this.load.image("monkey_7","assets/monkey/run/MONKEY_RUN_TK020007 Background Removed.png"),this.load.image("monkey_8","assets/monkey/run/MONKEY_RUN_TK020008 Background Removed.png"),this.load.image("monkey_9","assets/monkey/run/MONKEY_RUN_TK020009 Background Removed.png"),this.load.image("monkey_10","assets/monkey/run/MONKEY_RUN_TK020010 Background Removed.png"),this.load.image("monkey_11","assets/monkey/run/MONKEY_RUN_TK020011 Background Removed.png"),this.load.image("monkey_12","assets/monkey/run/MONKEY_RUN_TK020012 Background Removed.png"),this.load.image("monkey_13","assets/monkey/run/MONKEY_RUN_TK020013 Background Removed.png"),this.load.image("monkey_14","assets/monkey/run/MONKEY_RUN_TK020014 Background Removed.png"),this.load.image("monkey_15","assets/monkey/run/MONKEY_RUN_TK020015 Background Removed.png"),this.load.image("monkey_16","assets/monkey/run/MONKEY_RUN_TK020016 Background Removed.png"),this.load.image("monkey_17","assets/monkey/run/MONKEY_RUN_TK020017 Background Removed.png"),this.load.image("monkey_18","assets/monkey/run/MONKEY_RUN_TK020018 Background Removed.png"),this.load.image("monkey_19","assets/monkey/run/MONKEY_RUN_TK020019 Background Removed.png"),this.load.image("monkey_20","assets/monkey/run/MONKEY_RUN_TK020020 Background Removed.png"),this.load.image("monkey_21","assets/monkey/run/MONKEY_RUN_TK020021 Background Removed.png"),this.load.image("monkey_22","assets/monkey/run/MONKEY_RUN_TK020022 Background Removed.png"),this.load.image("monkeyJump_1","assets/monkey/jump/MONKEY_jump_TK010001 Background Removed.png"),this.load.image("monkeyJump_2","assets/monkey/jump/MONKEY_jump_TK010002 Background Removed.png"),this.load.image("monkeyJump_3","assets/monkey/jump/MONKEY_jump_TK010003 Background Removed.png"),this.load.image("monkeyJump_4","assets/monkey/jump/MONKEY_jump_TK010004 Background Removed.png"),this.load.image("monkeyJump_5","assets/monkey/jump/MONKEY_jump_TK010005 Background Removed.png"),this.load.image("monkeyJump_6","assets/monkey/jump/MONKEY_jump_TK010006 Background Removed.png"),this.load.image("monkeyJump_7","assets/monkey/jump/MONKEY_jump_TK010007 Background Removed.png"),this.load.image("monkeyJump_8","assets/monkey/jump/MONKEY_jump_TK010008 Background Removed.png"),this.load.image("monkeyJump_9","assets/monkey/jump/MONKEY_jump_TK010009 Background Removed.png"),this.load.image("monkeyJump_10","assets/monkey/jump/MONKEY_jump_TK010010 Background Removed.png"),this.load.image("monkeyJump_11","assets/monkey/jump/MONKEY_jump_TK010011 Background Removed.png"),this.load.image("monkeyJump_12","assets/monkey/jump/MONKEY_jump_TK010012 Background Removed.png"),this.load.image("monkeyJump_13","assets/monkey/jump/MONKEY_jump_TK010013 Background Removed.png"),this.load.image("monkeyJump_14","assets/monkey/jump/MONKEY_jump_TK010014 Background Removed.png"),this.load.image("monkeyJump_15","assets/monkey/jump/MONKEY_jump_TK010015 Background Removed.png"),this.load.image("monkeyJump_16","assets/monkey/jump/MONKEY_jump_TK010016 Background Removed.png"),this.load.image("monkeyJump_17","assets/monkey/jump/MONKEY_jump_TK010017 Background Removed.png"),this.load.image("monkeyJump_18","assets/monkey/jump/MONKEY_jump_TK010018 Background Removed.png"),this.load.image("monkeyJump_19","assets/monkey/jump/MONKEY_jump_TK010019 Background Removed.png"),this.load.image("monkeyJump_20","assets/monkey/jump/MONKEY_jump_TK010020 Background Removed.png"),this.load.image("monkeyJump_21","assets/monkey/jump/MONKEY_jump_TK010021 Background Removed.png"),this.load.image("monkeyJump_22","assets/monkey/jump/MONKEY_jump_TK010022 Background Removed.png"),this.load.image("monkeyJump_23","assets/monkey/jump/MONKEY_jump_TK010023 Background Removed.png"),this.load.image("monkeyJump_24","assets/monkey/jump/MONKEY_jump_TK010024 Background Removed.png"),this.load.image("monkeyJump_25","assets/monkey/jump/MONKEY_jump_TK010025 Background Removed.png"),this.load.image("monkeyJump_26","assets/monkey/jump/MONKEY_jump_TK010026 Background Removed.png"),this.load.image("LizardJump_000001","assets/lizard/LizardJump_000001.png"),this.load.image("LizardJump_000002","assets/lizard/LizardJump_000002.png"),this.load.image("LizardJump_000003","assets/lizard/LizardJump_000003.png"),this.load.image("LizardJump_000004","assets/lizard/LizardJump_000004.png"),this.load.image("LizardJump_000005","assets/lizard/LizardJump_000005.png"),this.load.image("LizardJump_000006","assets/lizard/LizardJump_000006.png"),this.load.image("LizardJump_000007","assets/lizard/LizardJump_000007.png"),this.load.image("LizardJump_000008","assets/lizard/LizardJump_000008.png"),this.load.image("LizardJump_000009","assets/lizard/LizardJump_000009.png"),this.load.image("LizardJump_000010","assets/lizard/LizardJump_000010.png"),this.load.image("LizardJump_000011","assets/lizard/LizardJump_000011.png"),this.load.image("LizardJump_000012","assets/lizard/LizardJump_000012.png"),this.load.image("LizardJump_000013","assets/lizard/LizardJump_000013.png"),this.load.image("LizardJump_000014","assets/lizard/LizardJump_000014.png"),this.load.image("LizardJump_000015","assets/lizard/LizardJump_000015.png"),this.load.image("LizardJump_000016","assets/lizard/LizardJump_000016.png"),this.load.image("LizardJump_000017","assets/lizard/LizardJump_000017.png"),this.load.image("LizardJump_000018","assets/lizard/LizardJump_000018.png"),this.load.image("LizardRun_000001","assets/lizard/LizardRun_000001.png"),this.load.image("LizardRun_000002","assets/lizard/LizardRun_000002.png"),this.load.image("LizardRun_000003","assets/lizard/LizardRun_000003.png"),this.load.image("LizardRun_000004","assets/lizard/LizardRun_000004.png"),this.load.image("LizardRun_000005","assets/lizard/LizardRun_000005.png"),this.load.image("LizardRun_000006","assets/lizard/LizardRun_000006.png"),this.load.image("LizardRun_000007","assets/lizard/LizardRun_000007.png"),this.load.image("LizardRun_000008","assets/lizard/LizardRun_000008.png"),this.load.image("LizardRun_000009","assets/lizard/LizardRun_000009.png"),this.load.image("LizardRun_000010","assets/lizard/LizardRun_000010.png"),this.load.image("ostrich","assets/ostrich.png"),this.load.image("man","assets/man.png")}create(){this.reachedCenter=!1,this.jumpCount=0,this.lives=3,this.coinsCollected=0,this.level=0,this.rocksPassed=0,this.rocksPassedPrev=-1,this.levelSprites=["lizard","monkey_1","ostrich","man"],this.gravityY=0,this.rockSpeed=-200,this.baseSpeed=-200,this.rockStepSpeed=25,this.maxRockSpeed=-700,this.jumpVelocity=-800,this.jumpBaseVelocity=-600,this.jumpStepVelocity=15,this.maxJumpVelocity=-1e3,this.distance=0,this.speedEveryPixels=2500,this._nextSpeedAt=this.speedEveryPixels,this.background=new o(this,this.rockSpeed),this.ground=this.add.rectangle(this.scale.width/2,this.background.ground._0.y-this.background.ground._0.height+25,this.scale.width,2,0),this.ground.alpha=0,this.physics.add.existing(this.ground,!0);var e={x:this.scale.height/2,y:this.ground.y-100,level:this.level,scale:.5,initialVelocity:200,gravityY:this.gravityY};this.player=new l(this,e),this.physics.add.collider(this.player.getColliders(),this.ground,()=>{this.jumpCount=0}),this.rock=new r(this,this.scale.width+Math.random()*this.scale.width+100,this.background.ground._0.y-this.background.ground._0.height-10,this.rockSpeed),this.rock._sprite.setDepth(6),this.player._currPlayer.setDepth(7),this.coins=new h(this),this.spawnCoinNearRock(),this.physics.add.overlap(this.player.getColliders(),this.rock.getColliders(),this.handleHit,null,this),this.physics.add.overlap(this.player.getColliders(),this.coins.getColliders(),this.collectCoin,null,this),this.spaceKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE),this.OneKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.ONE),this.TwoKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.TWO),this.ThreeKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.THREE),this.livesText=this.add.text(10,10,"Lives: 3",{fontSize:"20px",fill:"#fff"}),this.coinsText=this.add.text(10,35,"Coins: 0",{fontSize:"20px",fill:"#fff"}),this.rocksText=this.add.text(10,60,"Rocks Passed: 0",{fontSize:"20px",fill:"#fff"}),this.applySpeed=e=>{this.rockSpeed=e,this.rock.setVelocityX(this.rockSpeed),this.background.setSpeed(this.rockSpeed),this.coins.setVelocityX(this.rockSpeed),this.player.updateGravity(600,this.rockSpeed,this.baseSpeed),this.speedText&&this.speedText.setText("Speed: ".concat(Math.round(this.currentSpeed)," px/s"))},this.speedText=this.add.text(10,80,"Speed: ".concat(Math.round(this.rockSpeed)," px/s"),{fontSize:"16px",fill:"#fff"}),this.jumpText=this.add.text(10,100,"Jump: ".concat(Math.round(this.jumpVelocity)," px/s"),{fontSize:"16px",fill:"#fff"}),this.distText=this.add.text(10,120,"Dist: 0 px",{fontSize:"16px",fill:"#fff"}),this.makeSlider(this,200,80,240,this.maxRockSpeed,150,this.rockSpeed,"Speed",e=>this.applySpeed(e)),this.makeSlider(this,200,110,240,-800,200,this.jumpVelocity,"Jump",e=>{this.jumpVelocity=e,this.jumpText.setText("Jump: ".concat(Math.round(this.jumpBaseVelocity)," px/s"))}),this.scoreHUD=new n(this,{x:this.scale.width-150,y:10,label:"Score",minDigits:5,maxDigits:10,metersPerPixel:.01,fontSize:18})}update(e,s){if(this.background.update(),this.scoreHUD.addBySpeedAndDelta(this.rockSpeed,s),this.reachedCenter?Phaser.Input.Keyboard.JustDown(this.spaceKey)&&this.jumpCount<2&&(this.player._currPlayer.setVelocityY(this.jumpVelocity),this.jumpCount++,1==this.level&&(this.player._currPlayer.setScale(.15),this.player._currPlayer.play("monkey_jump"))):this.player.getX()>=this.scale.width/2&&(this.player.setX(this.scale.width/2),this.player.setVelocityX(0),this.reachedCenter=!0),!this.rock.playerPassed&&this.rock._sprite.x+this.rock._sprite.width<this.player._currPlayer.x&&(this.rock.playerPassed=!0,this.rocksPassed++,this.rocksText.setText("Rocks Passed: ".concat(this.rocksPassed)),this.level!=this.levelSprites.length-1&&this.rocksPassed>this.rocksPassedPrev&&(this.rockSpeed-=this.rockStepSpeed,this.gravityY=this.gravityY+10,this.jumpVelocity-=this.jumpStepVelocity,this.player._currPlayer.setGravityY(this.gravityY),this.rocksPassedPrev=this.rocksPassed,this.background.setSpeed(this.rockSpeed))),this.rock.playerPassed&&this.rock.leftScreen()&&(this.rock.resetRockPos(this.rockSpeed),this.spawnCoinNearRock()),this.rocksPassed%10==0){let e=Math.floor(this.rocksPassed/10);e!==this.level&&e<this.levelSprites.length&&(this.level=e,this.player.updateLevel(this.level)),this.level>=this.levelSprites.length&&this.scene.start("LeaderboardScene",{playerName:this.playerName,coins:this.coinsCollected})}}handleHit(e,s){this.lives--,this.livesText.setText("Lives: ".concat(this.lives)),this.rock.resetRockPos(this.rockSpeed),this.spawnCoinNearRock(),this.lives<=0&&(this.level==this.levelSprites.length-1?this.scene.start("LeaderboardScene",{playerName:this.playerName,coins:this.coinsCollected}):this.scene.start("GameOverScene"))}collectCoin(e,s){s.destroy(),this.coinsCollected++,this.coinsText.setText("Coins: ".concat(this.coinsCollected))}spawnCoinNearRock(){Phaser.Math.Between(-250,-100);var e={maxCount:6,minCount:1,arcWidth:150,arcHeight:150,startDeg:-180,endDeg:0,speedX:this.rockSpeed,scale:.2};this.coins.spawnCoinsArc(this.rock._sprite.x,this.rock._sprite.y-100,e)}makeSlider(e,s,t,i,a,o,r,n,h){let d=e.add.rectangle(s,t,i,6,6710886).setOrigin(0,.5).setInteractive(),l=s+(r-a)/(o-a)*i,c=e.add.circle(l,t,10,0xffffff).setInteractive({draggable:!0}),m=e.add.text(s,t-24,"".concat(n,": ").concat(Math.round(r)),{fontSize:"16px",fill:"#fff"});return e.input.setDraggable(c,!0),c.on("drag",(e,t)=>{let r=Phaser.Math.Clamp(t,s,s+i);c.x=r;let d=(r-s)/i,l=Phaser.Math.Linear(a,o,d);m.setText("".concat(n,": ").concat(Math.round(l))),h(l)}),d.on("pointerdown",e=>{let t=Phaser.Math.Clamp(e.x,s,s+i);c.x=t;let r=(t-s)/i,d=Phaser.Math.Linear(a,o,r);m.setText("".concat(n,": ").concat(Math.round(d))),h(d)}),{track:d,knob:c,text:m}}constructor(){super("GameScene")}}class m extends Phaser.Scene{create(){this.add.text(280,250,"Game Over",{fontSize:"48px",fill:"#ff0000"}),this.time.delayedCall(5e3,()=>{this.scene.start("LandingScene")})}constructor(){super("GameOverScene")}}class p extends Phaser.Scene{init(e){this.playerName=e.playerName,this.coins=e.coins,this.highScores=[]}create(){this.highScores.push({name:this.playerName,coins:this.coins}),this.highScores.sort((e,s)=>s.coins-e.coins),this.highScores=this.highScores.slice(0,5),this.add.text(250,150,"Leaderboard",{fontSize:"40px",fill:"#fff"}),this.highScores.forEach((e,s)=>{this.add.text(220,220+30*s,"".concat(s+1,". ").concat(e.name," - ").concat(e.coins," coins"),{fontSize:"24px",fill:"#ffff00"})}),this.time.delayedCall(2e3,()=>{this.scene.start("LandingScene")})}constructor(){super("LeaderboardScene")}}class u extends Phaser.Scene{init(e){this.timeTaken=e.time}create(){this.add.text(250,250,"You Win!",{fontSize:"48px",fill:"#fff"}),this.add.text(250,320,"Time: ".concat(this.timeTaken," seconds"),{fontSize:"24px",fill:"#fff"})}constructor(){super("WinScene")}}let y={type:Phaser.AUTO,width:1920,height:1080,dom:{createContainer:!0},physics:{default:"arcade",arcade:{gravity:{y:600},debug:!0}},scene:[i,c,u,m,p]};new Phaser.Game(y)}}]);