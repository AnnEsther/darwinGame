"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[345],{5345:(e,s,t)=>{class i extends Phaser.Scene{create(){this.add.text(300,250,"Company Logo",{fontSize:"32px",fill:"#fff"}),this.add.text(280,300,"Loading...",{fontSize:"24px",fill:"#fff"}),this.time.delayedCall(2e3,()=>{this.scene.start("GameScene")})}constructor(){super("LandingScene")}}Phaser.Scene;class a{update(){var e=!1,s=!1;return this._0.x+this.sceneWidth<=0?(this._0.x=this._1.x+this.sceneWidth,e=!0):this._1.x+this.sceneWidth<=0&&(this._1.x=this._0.x+this.sceneWidth,s=!0),[e,s]}setVelocityX(e){this._0.setVelocityX(e),this._1.setVelocityX(e)}getHeight(){return this._0.displayHeight}setZIndex(e){this._0.setDepth(e),this._1.setDepth(e)}constructor(e,s){this.physicsGroup=e,this.sceneWidth=s.sceneWidth;var t="",i="";null==s.texture1?(t=s.texture0,i=s.texture0):(t=s.texture0,i=s.texture1),this._0=this.physicsGroup.create(s.x,s.y,t),this._0.setOrigin(s.origin[0],s.origin[1]);let a=this._0.width,o=s.displaySize[0]/a;this._0.setScale(o),this._0.setVelocityX(s.velocity),this._0.setImmovable(s.immovable),this._0.body.allowGravity=s.allowGravity,this._1=this.physicsGroup.create(this.sceneWidth,s.y,i),this._1.setOrigin(s.origin[0],s.origin[1]),this._1.setScale(o),this._1.setVelocityX(s.velocity),this._1.setImmovable(s.immovable),this._1.body.allowGravity=s.allowGravity}}class o{update(){this.cloud.update(),this.backgroundItem.update(),this.onGroundReset(this.ground.update()),this.grass.update()}setVelocityX(e){this.speed=e,this.cloud.setVelocityX(.2*e),this.backgroundItem.setVelocityX(.8*e),this.ground.setVelocityX(e),this.grass.setVelocityX(1.2*e)}constructor(e,s=200,t){this.scene=e,this.speed=s,this.onGroundReset=t,this.physicsGroup=e.physics.add.group({allowGravity:!1,immovable:!0});let i=this.scene.scale.width,o=this.scene.scale.height;this.background=this.physicsGroup.create(0,0,"background"),this.background.setOrigin(0,0),this.background.setScale(1.15,1.15),this.background.setImmovable(!0),this.background.body.allowGravity=!1,this.ground=new a(this.physicsGroup,{x:0,y:o+0,texture0:"ground_0",texture1:"ground_1",origin:[0,1],displaySize:[i,o],velocity:s,immovable:!0,allowGravity:!1,sceneWidth:i});var r={x:0,y:this.ground._0.y-this.ground.getHeight()- -25,texture0:"cloud_big",texture1:null,origin:[0,0],displaySize:[i,o],velocity:.2*s,immovable:!0,allowGravity:!1,sceneWidth:i};this.cloud=new a(this.physicsGroup,r),this.cloud._0.setY(this.cloud._0.y-this.cloud._0.displayHeight),this.cloud._1.setY(this.cloud._1.y-this.cloud._1.displayHeight),this.cloud._1.flipX=!0;var n={x:0,y:this.ground._0.y-this.ground.getHeight()- -25,texture0:"cloud_small_0",texture1:null,origin:[0,0],displaySize:[i,o],velocity:.4*s,immovable:!0,allowGravity:!1,sceneWidth:i};this.cloudSmall=new a(this.physicsGroup,n),this.cloudSmall._0.setY(this.cloudSmall._0.y-this.cloudSmall._0.height-Math.random()*(o-this.cloudSmall._0.y-this.cloudSmall._0.height-100)),this.cloudSmall._1.setY(this.cloudSmall._1.y- -this.cloudSmall._0.height-Math.random()*(o-this.cloudSmall._1.y-this.cloudSmall._1.height-100));var h={x:0,y:this.ground._0.y-this.ground.getHeight()- -25,texture0:"background_item",texture1:null,origin:[0,0],displaySize:[i,o],velocity:.8*s,immovable:!0,allowGravity:!1,sceneWidth:i};this.backgroundItem=new a(this.physicsGroup,h),this.backgroundItem._0.setY(this.backgroundItem._0.y-this.backgroundItem._0.displayHeight),this.backgroundItem._1.setY(this.backgroundItem._1.y-this.backgroundItem._1.displayHeight),this.grass=new a(this.physicsGroup,{x:0,y:o,texture0:"grass_0",texture1:"grass_1",origin:[0,1],displaySize:[i,o],velocity:1.2*s,immovable:!0,allowGravity:!1,sceneWidth:i}),this.ground.setZIndex(5),this.grass.setZIndex(6)}}t(5130);class r{updateSprite(e,s,t){this.rockRect1||(this.rockRect1=this.scene.physics.add.sprite(e,s+this._sprite.height/4,null).setOrigin(.5,.5).setVisible(!1),this.rockRect1.setVelocityX(t),this.rockRect1.body.setAllowGravity(!1)),this.rockCircle1||(this.rockCircle1=this.scene.physics.add.sprite(e,s-this._sprite.height/4,null).setOrigin(.5,.5).setVisible(!1),this.rockCircle1.body.setCircle(10),this.rockCircle1.body.setAllowGravity(!1),this.rockCircle1.setVelocityX(t)),this.rockCircle2||(this.rockCircle2=this.scene.physics.add.sprite(e,s,null).setOrigin(.5,.5).setVisible(!1),this.rockCircle2.body.setCircle(10),this.rockCircle2.body.setAllowGravity(!1),this.rockCircle2.setVelocityX(t)),this.rockCircle3||(this.rockCircle3=this.scene.physics.add.sprite(e,s,null).setOrigin(.5,.5).setVisible(!1),this.rockCircle3.body.setCircle(10),this.rockCircle3.body.setAllowGravity(!1),this.rockCircle3.setVelocityX(t));var i=Math.floor(3*Math.random())+1;switch(this._sprite.setTexture("rock"+i),i){case 1:this.rockRect1.setSize(.84*this._sprite.width,this._sprite.height/3,!0),this.rockCircle1.body.setCircle(.3*this._sprite.width),this.rockCircle1.body.setOffset(-15,-8),this.rockCircle2.body.setCircle(20),this.rockCircle2.body.setOffset(-33,5),this.rockCircle3.body.setCircle(20),this.rockCircle3.body.setOffset(40,-78);break;case 2:this.rockRect1.setSize(.95*this._sprite.width,this._sprite.height/2,!0),this.rockCircle1.body.setCircle(this._sprite.height/2*.8),this.rockCircle1.body.setOffset(-50,-20),this.rockCircle2.body.setCircle(20),this.rockCircle2.body.setOffset(-70,-10),this.rockCircle3.body.setCircle(20),this.rockCircle3.body.setOffset(-70,-10);break;case 3:this.rockRect1.setSize(.95*this._sprite.width,.6*this._sprite.height,!0),this.rockRect1.setOffset(-60,-40),this.rockCircle1.body.setCircle(this._sprite.height/2*.72),this.rockCircle1.body.setOffset(-30,-10),this.rockCircle2.body.setCircle(20),this.rockCircle2.body.setOffset(-50,-10),this.rockCircle3.body.setCircle(20),this.rockCircle3.body.setOffset(-50,-10);break;case 4:this.rockRect1.setSize(.9*this._sprite.width,.4*this._sprite.height,!0),this.rockRect1.setOffset(-60,-40),this.rockCircle1.body.setCircle(this._sprite.height/2*.74),this.rockCircle1.body.setOffset(-48,-10),this.rockCircle2.body.setCircle(20),this.rockCircle2.body.setOffset(-15,-70),this.rockCircle3.body.setCircle(20),this.rockCircle3.body.setOffset(-15,-70)}this._colliders=[this.rockRect1,this.rockCircle1,this.rockCircle2,this.rockCircle3]}setVelocityX(e){this._sprite.setVelocityX(e),this.rockCircle1.setVelocityX(e),this.rockCircle2.setVelocityX(e),this.rockCircle3.setVelocityX(e),this.rockRect1.setVelocityX(e)}setX(e){this._sprite.setX(e),this.rockCircle1.x=e,this.rockCircle2.x=e,this.rockCircle3.x=e,this.rockRect1.x=e}resetRockPos(e){this.setVelocityX(0),this.updateSprite();var s=this.rockBase.x+Math.random()*this.rockBase.width;this.setX(s),this.playerPassed=!1,this.setVelocityX(e)}getColliders(){return this._colliders}getX(){return this._sprite.x}getY(){return this._sprite.y}constructor(e,s){this.scene=e,this.rockBase=s.rockBase,this._colliders=[],this._sprite=this.scene.physics.add.sprite(s.x,s.y,"rock1"),this._sprite.body.setAllowGravity(!1),this._sprite.setVelocityX(s.speed),this._sprite.setImmovable(!0),this._sprite.setBounce(0),this._sprite.playerPassed=!1,this.updateSprite(s.x,s.y,s.speed)}}class n{addPixels(e){Number.isFinite(e)&&(this._meters+=e*this.metersPerPixel,this._render())}addBySpeedAndDelta(e,s){Number.isFinite(e)&&Number.isFinite(s)&&this.addPixels(Math.abs(s/1e3*e))}setMeters(e){this._meters=Math.max(0,Number(e)||0),this._render()}getMeters(){return this._meters}_render(){let e=Math.floor(this._meters),s=String(e).length,t=Math.min(this.maxDigits,Math.max(this.minDigits,s)),i=String(e).padStart(t,"0");this.valueText.setText(i)}setLabel(e){this.label=e,this.labelText.setText(this.label)}setPosition(e,s){this.x=e,this.y=s,this.labelText.setPosition(this.x,this.y),this.valueText.setPosition(this.x+60,this.y)}constructor(e,s={}){var t,i,a,o,r,n,h;this.scene=e,this.x=null!=(t=s.x)?t:10,this.y=null!=(i=s.y)?i:10,this.label=null!=(a=s.label)?a:"Score",this.minDigits=Math.max(1,null!=(o=s.minDigits)?o:5),this.maxDigits=Math.max(this.minDigits,null!=(r=s.maxDigits)?r:10),this.metersPerPixel=null!=(n=s.metersPerPixel)?n:.01,this.fontSize=null!=(h=s.fontSize)?h:18,this._meters=0,this.labelText=e.add.text(this.x,this.y,this.label,{fontFamily:"monospace",fontSize:"".concat(this.fontSize,"px"),color:"#ffffff"}).setDepth(1e3).setScrollFactor(0),this.valueText=e.add.text(this.x+60,this.y,"",{fontFamily:"monospace",fontSize:"".concat(this.fontSize,"px"),color:"#ffff00"}).setDepth(1e3).setScrollFactor(0),this._render()}}class h{getColliders(){return this._activeCoins}spawnCoin(e,s){}setVelocityX(e){this._activeCoins.forEach(s=>{var t;return null==s||null==(t=s.body)?void 0:t.setVelocityX(e)})}spawnCoinsArc(e,s){let{minCount:t=1,maxCount:i=6,arcWidth:a=300,arcHeight:o=200,startDeg:r=-30,endDeg:n=30,speedX:h=-200,scale:l=.5}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=new Phaser.Curves.Ellipse(e,s,a,o);c.setStartAngle(r),c.setEndAngle(n),c.setClockwise(!1);var d=t+Math.floor(Math.random()*(i-1));let p=c.getSpacedPoints(d);for(let e=0;e<d;e++){let s=p[e],t=this.scene.physics.add.sprite(s.x,s.y,"coin0000");t.play("coinSpin"),t.setScale(l),t.body.setAllowGravity(!1),t.body.setVelocityX(h),t.body.setSize(t.displayWidth,t.displayHeight,!0),t.setCollideWorldBounds(!1),t.setBounce(0),this._activeCoins.push(t)}}constructor(e){this.scene=e,this.scene.anims.create({key:"coinSpin",frames:[{key:"coin0000"},{key:"coin0001"},{key:"coin0002"},{key:"coin0003"},{key:"coin0004"}],frameRate:14,repeat:-1}),this._activeCoins=[]}}let l=["LizardRun_000001","monkey_1","ostrichRun_1","man"],c=["lizard_run","monkey_run","ostrich_run","human_run"],d=["lizard_jump","monkey_jump","ostrich_jump","human_jump"];class p{getColliders(){return this._currPlayer}getX(){return this._currPlayer.x}setX(e){return this._currPlayer.x=e}setVelocityX(e){this._currPlayer.setVelocityX(e)}updateGravity(e,s,t){this._currPlayer.body.setGravityY(s/t*e)}createAnims(){this.scene.anims.create({key:"explosion_small",frames:[{key:"explosionSmall_0"},{key:"explosionSmall_1"},{key:"explosionSmall_2"},{key:"explosionSmall_3"},{key:"explosionSmall_4"},{key:"explosionSmall_5"},{key:"explosionSmall_6"},{key:"explosionSmall_7"},{key:"explosionSmall_8"}],frameRate:7,repeat:1}),this.scene.anims.create({key:"explosion_large",frames:[{key:"explosionLarge_0"},{key:"explosionLarge_1"},{key:"explosionLarge_2"},{key:"explosionLarge_3"},{key:"explosionLarge_4"},{key:"explosionLarge_5"},{key:"explosionLarge_6"},{key:"explosionLarge_7"},{key:"explosionLarge_8"}],frameRate:7,repeat:1}),this.scene.anims.create({key:"lizard_run",frames:[{key:"LizardRun_000001"},{key:"LizardRun_000002"},{key:"LizardRun_000003"},{key:"LizardRun_000004"},{key:"LizardRun_000005"},{key:"LizardRun_000006"},{key:"LizardRun_000007"},{key:"LizardRun_000008"},{key:"LizardRun_000009"},{key:"LizardRun_000010"}],frameRate:20,repeat:-1}),this.scene.anims.create({key:"lizard_jump",frames:[{key:"LizardJump_000001"},{key:"LizardJump_000002"},{key:"LizardJump_000003"},{key:"LizardJump_000004"},{key:"LizardJump_000005"},{key:"LizardJump_000006"},{key:"LizardJump_000007"},{key:"LizardJump_000008"}],frameRate:2,repeat:0}),this._currPlayer.on("animationcomplete-lizard_jump",()=>{this._currPlayer.play("lizard_run")}),this.scene.anims.create({key:"monkey_run",frames:[{key:"monkey_1"},{key:"monkey_2"},{key:"monkey_3"},{key:"monkey_4"},{key:"monkey_5"},{key:"monkey_6"},{key:"monkey_7"},{key:"monkey_8"},{key:"monkey_9"},{key:"monkey_10"},{key:"monkey_11"}],frameRate:14,repeat:-1}),this.scene.anims.create({key:"monkey_jump",frames:[{key:"monkeyJump_1"},{key:"monkeyJump_2"},{key:"monkeyJump_3"},{key:"monkeyJump_4"},{key:"monkeyJump_5"},{key:"monkeyJump_6"},{key:"monkeyJump_7"},{key:"monkeyJump_8"}],frameRate:14,repeat:0}),this._currPlayer.on("animationcomplete-monkey_jump",()=>{this._currPlayer.play("monkey_run")}),this.scene.anims.create({key:"ostrich_run",frames:[{key:"ostrichRun_1"},{key:"ostrichRun_2"},{key:"ostrichRun_3"},{key:"ostrichRun_4"},{key:"ostrichRun_5"},{key:"ostrichRun_6"},{key:"ostrichRun_7"},{key:"ostrichRun_8"},{key:"ostrichRun_9"},{key:"ostrichRun_10"}],frameRate:14,repeat:-1}),this.scene.anims.create({key:"ostrich_jump",frames:[{key:"ostrichJump_0"},{key:"ostrichJump_1"},{key:"ostrichJump_2"},{key:"ostrichJump_3"},{key:"ostrichJump_4"},{key:"ostrichJump_5"},{key:"ostrichJump_6"}],frameRate:14,repeat:-1}),this._currPlayer.on("animationcomplete-ostritch_jump",()=>{this._currPlayer.play("ostrich_run")}),this.scene.anims.create({key:"human_run",frames:[{key:"humanRun_1"},{key:"humanRun_2"},{key:"humanRun_3"},{key:"humanRun_4"},{key:"humanRun_5"},{key:"humanRun_6"},{key:"humanRun_7"},{key:"humanRun_8"},{key:"humanRun_9"},{key:"humanRun_10"}],frameRate:14,repeat:-1}),this.scene.anims.create({key:"human_jump",frames:[{key:"humanJump_0"},{key:"humanJump_1"},{key:"humanJump_2"},{key:"humanJump_3"},{key:"humanJump_4"},{key:"humanJump_5"}],frameRate:14,repeat:-1}),this._currPlayer.on("animationcomplete-human_jump",()=>{this._currPlayer.play("human_run")})}updateLevel(e){this.level=e,this._currPlayer.setTexture(l[e]),this._currPlayer.play(c[e]),this.evolvePlayer(e)}evolvePlayer(e){let s=0,t=this.scene.time.addEvent({delay:200,loop:!0,callback:()=>{this._currPlayer.setVisible(!this._currPlayer.visible),(s+=200)>=2e3&&(t.remove(),this._currPlayer.setVisible(!0),this._currPlayer.setTexture(l[e]),this._currPlayer.play(c[e])),this._currPlayer.body.setSize(this._currPlayer.width,this._currPlayer.height,!0),this._currPlayer.setCollideWorldBounds(!0)}})}deadth(e){this._explosion.setVisible(!0),0==this.level||1==this.level?(this._explosion.anims.play("explosion_small",!0),this._explosion.once("animationcomplete-explosion_small",()=>{e()})):(this._explosion.anims.play("explosion_large",!0),this._explosion.once("animationcomplete-explosion_large",()=>{e()}))}jump(){this._currPlayer.play(d[this.level])}constructor(e,s){this.scene=e,this._currPlayer=this.scene.physics.add.sprite(s.x,s.y,l[s.level]),this.createAnims(),this.setVelocityX(s.initialVelocity),this.updateLevel(s.level),this.level=s.level,this._currPlayer.body.setGravityY(s.gravityY),this._explosion=this.scene.add.sprite(this.scene.scale.width/2,s.groundY,"explosion_small"),this._explosion.setDepth(8),this._explosion.setVisible(!1)}}class m extends Phaser.Scene{init(e){this.playerName=e.playerName||"Anonymous"}preload(){this.load.image("coin0000","assets/Coin/coin0000.png"),this.load.image("coin0001","assets/Coin/coin0001.png"),this.load.image("coin0002","assets/Coin/coin0002.png"),this.load.image("coin0003","assets/Coin/coin0003.png"),this.load.image("coin0004","assets/Coin/coin0004.png"),this.load.image("background","assets/Enviornment/background.png"),this.load.image("background_item","assets/Enviornment/background_item.png"),this.load.image("cloud_big","assets/Enviornment/cloud_big.png"),this.load.image("cloud_small_0","assets/Enviornment/cloud_small_0.png"),this.load.image("ground_0","assets/Enviornment/ground_0.png"),this.load.image("ground_1","assets/Enviornment/ground_1.png"),this.load.image("grass_0","assets/Enviornment/grass_0.png"),this.load.image("grass_1","assets/Enviornment/grass_1.png"),this.load.image("rock1","assets/Fossil/rock1.png"),this.load.image("rock2","assets/Fossil/rock2.png"),this.load.image("rock3","assets/Fossil/rock3.png"),this.load.image("rock4","assets/Fossil/rock4.png"),this.load.image("LizardJump_000001","assets/lizard/jump/Lizard_jumpo_000001.png"),this.load.image("LizardJump_000002","assets/lizard/jump/Lizard_jumpo_000003.png"),this.load.image("LizardJump_000003","assets/lizard/jump/Lizard_jumpo_000005.png"),this.load.image("LizardJump_000004","assets/lizard/jump/Lizard_jumpo_000007.png"),this.load.image("LizardJump_000005","assets/lizard/jump/Lizard_jumpo_000009.png"),this.load.image("LizardJump_000006","assets/lizard/jump/Lizard_jumpo_000011.png"),this.load.image("LizardJump_000007","assets/lizard/jump/Lizard_jumpo_000013.png"),this.load.image("LizardJump_000008","assets/lizard/jump/Lizard_jumpo_000015.png"),this.load.image("LizardRun_000001","assets/lizard/run/Lizard_run_000001.png"),this.load.image("LizardRun_000002","assets/lizard/run/Lizard_run_000002.png"),this.load.image("LizardRun_000003","assets/lizard/run/Lizard_run_000003.png"),this.load.image("LizardRun_000004","assets/lizard/run/Lizard_run_000004.png"),this.load.image("LizardRun_000005","assets/lizard/run/Lizard_run_000005.png"),this.load.image("LizardRun_000006","assets/lizard/run/Lizard_run_000006.png"),this.load.image("LizardRun_000007","assets/lizard/run/Lizard_run_000007.png"),this.load.image("LizardRun_000008","assets/lizard/run/Lizard_run_000008.png"),this.load.image("LizardRun_000009","assets/lizard/run/Lizard_run_000009.png"),this.load.image("LizardRun_000010","assets/lizard/run/Lizard_run_000010.png"),this.load.image("monkey_1","assets/monkey/run/mONKEY_RUN_000002.png"),this.load.image("monkey_2","assets/monkey/run/mONKEY_RUN_000004.png"),this.load.image("monkey_3","assets/monkey/run/mONKEY_RUN_000006.png"),this.load.image("monkey_4","assets/monkey/run/mONKEY_RUN_000008.png"),this.load.image("monkey_5","assets/monkey/run/mONKEY_RUN_000010.png"),this.load.image("monkey_6","assets/monkey/run/mONKEY_RUN_000012.png"),this.load.image("monkey_7","assets/monkey/run/mONKEY_RUN_000014.png"),this.load.image("monkey_8","assets/monkey/run/mONKEY_RUN_000016.png"),this.load.image("monkey_9","assets/monkey/run/mONKEY_RUN_000018.png"),this.load.image("monkey_10","assets/monkey/run/mONKEY_RUN_000020.png"),this.load.image("monkey_11","assets/monkey/run/mONKEY_RUN_000021.png"),this.load.image("monkeyJump_1","assets/monkey/jump/alpha canvas0005.png"),this.load.image("monkeyJump_2","assets/monkey/jump/alpha canvas0007.png"),this.load.image("monkeyJump_3","assets/monkey/jump/alpha canvas0009.png"),this.load.image("monkeyJump_4","assets/monkey/jump/alpha canvas0011.png"),this.load.image("monkeyJump_5","assets/monkey/jump/alpha canvas0013.png"),this.load.image("monkeyJump_6","assets/monkey/jump/alpha canvas0015.png"),this.load.image("monkeyJump_7","assets/monkey/jump/alpha canvas0017.png"),this.load.image("monkeyJump_8","assets/monkey/jump/alpha canvas0019.png"),this.load.image("ostrichRun_1","assets/bird/run/ostrich_run(1).png"),this.load.image("ostrichRun_2","assets/bird/run/ostrich_run(2).png"),this.load.image("ostrichRun_3","assets/bird/run/ostrich_run(3).png"),this.load.image("ostrichRun_4","assets/bird/run/ostrich_run(4).png"),this.load.image("ostrichRun_5","assets/bird/run/ostrich_run(5).png"),this.load.image("ostrichRun_6","assets/bird/run/ostrich_run(6).png"),this.load.image("ostrichRun_7","assets/bird/run/ostrich_run(7).png"),this.load.image("ostrichRun_8","assets/bird/run/ostrich_run(8).png"),this.load.image("ostrichRun_9","assets/bird/run/ostrich_run(9).png"),this.load.image("ostrichRun_10","assets/bird/run/ostrich_run(10).png"),this.load.image("ostrichJump_0","assets/bird/jump/ostrich-jump-(1)_0000_Layer-1.png"),this.load.image("ostrichJump_1","assets/bird/jump/ostrich-jump-(1)_0001_ostrich-jump-(2).png"),this.load.image("ostrichJump_2","assets/bird/jump/ostrich-jump-(1)_0002_ostrich-jump-(3).png"),this.load.image("ostrichJump_3","assets/bird/jump/ostrich-jump-(1)_0003_ostrich-jump-(4).png"),this.load.image("ostrichJump_4","assets/bird/jump/ostrich-jump-(1)_0003_ostrich-jump-(5).png"),this.load.image("ostrichJump_5","assets/bird/jump/ostrich-jump-(1)_0003_ostrich-jump-(6).png"),this.load.image("ostrichJump_6","assets/bird/jump/ostrich-jump-(1)_0006_ostrich-jump-(7).png"),this.load.image("humanRun_0","assets/human/run/Man_RUn_00001.png"),this.load.image("humanRun_1","assets/human/run/Man_RUn_00003.png"),this.load.image("humanRun_2","assets/human/run/Man_RUn_00005.png"),this.load.image("humanRun_3","assets/human/run/Man_RUn_00007.png"),this.load.image("humanRun_4","assets/human/run/Man_RUn_00009.png"),this.load.image("humanRun_5","assets/human/run/Man_RUn_00011.png"),this.load.image("humanRun_6","assets/human/run/Man_RUn_00013.png"),this.load.image("humanRun_7","assets/human/run/Man_RUn_00015.png"),this.load.image("humanRun_8","assets/human/run/Man_RUn_00017.png"),this.load.image("humanRun_9","assets/human/run/Man_RUn_00019.png"),this.load.image("humanRun_10","assets/human/run/Man_RUn_00021.png"),this.load.image("humanJump_0","assets/human/jump/man_Jump_tk010002.png"),this.load.image("humanJump_1","assets/human/jump/man_Jump_tk010006.png"),this.load.image("humanJump_2","assets/human/jump/man_Jump_tk010008.png"),this.load.image("humanJump_3","assets/human/jump/man_Jump_tk010010.png"),this.load.image("humanJump_4","assets/human/jump/man_Jump_tk010012.png"),this.load.image("humanJump_5","assets/human/jump/man_Jump_tk010014.png"),this.load.image("lizard","assets/lizard.png"),this.load.image("ostrich","assets/ostrich.png"),this.load.image("man","assets/man.png"),this.load.image("explosionSmall_0","assets/explosion/small/explosion0000.png"),this.load.image("explosionSmall_1","assets/explosion/small/explosion0001.png"),this.load.image("explosionSmall_2","assets/explosion/small/explosion0002.png"),this.load.image("explosionSmall_3","assets/explosion/small/explosion0003.png"),this.load.image("explosionSmall_4","assets/explosion/small/explosion0004.png"),this.load.image("explosionSmall_5","assets/explosion/small/explosion0005.png"),this.load.image("explosionSmall_6","assets/explosion/small/explosion0006.png"),this.load.image("explosionSmall_7","assets/explosion/small/explosion0007.png"),this.load.image("explosionSmall_8","assets/explosion/small/explosion0008.png"),this.load.image("explosionLarge_0","assets/explosion/large/explosion0000.png"),this.load.image("explosionLarge_1","assets/explosion/large/explosion0001.png"),this.load.image("explosionLarge_2","assets/explosion/large/explosion0002.png"),this.load.image("explosionLarge_3","assets/explosion/large/explosion0003.png"),this.load.image("explosionLarge_4","assets/explosion/large/explosion0004.png"),this.load.image("explosionLarge_5","assets/explosion/large/explosion0005.png"),this.load.image("explosionLarge_6","assets/explosion/large/explosion0006.png"),this.load.image("explosionLarge_7","assets/explosion/large/explosion0007.png"),this.load.image("explosionLarge_8","assets/explosion/large/explosion0008.png")}create(){this.reachedCenter=!1,this.jumpCount=0,this.coinsCollected=0,this.level=0,this.rocksPassed=0,this.rocksPassedPrev=-1,this.levelSprites=["lizard","monkey_1","ostrich","man"],this.gravityY=0,this.rockSpeed=-500,this.baseSpeed=-200,this.rockStepSpeed=25,this.maxRockSpeed=-1e3,this.jumpVelocity=-800,this.jumpBaseVelocity=-600,this.jumpStepVelocity=15,this.maxJumpVelocity=-1e3,this.distance=0,this.speedEveryPixels=2500,this._nextSpeedAt=this.speedEveryPixels,this.background=new o(this,this.rockSpeed,this.onGroundReset.bind(this)),this.ground=this.add.rectangle(this.scale.width/2,this.background.ground._0.y-this.background.ground._0.height+25,this.scale.width,2,0),this.ground.alpha=0,this.physics.add.existing(this.ground,!0);var e={x:this.scale.height/2,y:this.ground.y-100,level:this.level,scale:.5,initialVelocity:200,gravityY:this.gravityY,groundY:this.ground.y};this.player=new p(this,e),this.physics.add.collider(this.player.getColliders(),this.ground,()=>{this.jumpCount=0});var s={x:this.background.ground._0.width+this.background.ground._1.width+Math.random()*this.background.ground._0.width,y:this.background.ground._0.y-this.background.ground._0.height-10,speed:this.rockSpeed,rockBase:this.background.ground._0};this.rock=new r(this,s),this.rock._sprite.setDepth(6),this.player._currPlayer.setDepth(7),this.coins=new h(this),this.spawnCoins(this.rock.getX(),this.rock.getY()),this.physics.add.overlap(this.player.getColliders(),this.rock.getColliders(),this.handleHit,null,this),this.physics.add.overlap(this.player.getColliders(),this.coins.getColliders(),this.collectCoin,null,this),this.spaceKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE),this.coinsText=this.add.text(10,35,"Coins: 0",{fontSize:"20px",fill:"#fff"}),this.rocksText=this.add.text(10,60,"Rocks Passed: 0",{fontSize:"20px",fill:"#fff"}),this.applySpeed=e=>{this.rockSpeed=e,this.rock.setVelocityX(this.rockSpeed),this.background.setVelocityX(this.rockSpeed),this.coins.setVelocityX(this.rockSpeed),this.player.updateGravity(600,this.rockSpeed,this.baseSpeed),this.speedText&&this.speedText.setText("Speed: ".concat(Math.round(this.currentSpeed)," px/s"))},this.speedText=this.add.text(10,80,"Speed: ".concat(Math.round(this.rockSpeed)," px/s"),{fontSize:"16px",fill:"#fff"}),this.jumpText=this.add.text(10,100,"Jump: ".concat(Math.round(this.jumpVelocity)," px/s"),{fontSize:"16px",fill:"#fff"}),this.makeSlider(this,200,80,240,this.maxRockSpeed,150,this.rockSpeed,"Speed",e=>this.applySpeed(e)),this.makeSlider(this,200,120,240,-800,200,this.jumpVelocity,"Jump",e=>{this.jumpVelocity=e,this.jumpText.setText("Jump: ".concat(Math.round(this.jumpBaseVelocity)," px/s"))}),this.scoreHUD=new n(this,{x:this.scale.width-150,y:10,label:"Score",minDigits:5,maxDigits:10,metersPerPixel:.01,fontSize:18})}update(e,s){if(this.background.update(),this.scoreHUD.addBySpeedAndDelta(this.rockSpeed,s),this.reachedCenter?Phaser.Input.Keyboard.JustDown(this.spaceKey)&&this.jumpCount<1&&(this.player._currPlayer.setVelocityY(this.jumpVelocity),this.jumpCount++,this.player.jump()):this.player.getX()>=this.scale.width/2&&(this.player.setX(this.scale.width/2),this.player.setVelocityX(0),this.reachedCenter=!0),!this.rock.playerPassed&&this.rock._sprite.x+this.rock._sprite.width<this.player._currPlayer.x&&(this.rock.playerPassed=!0,this.rocksPassed++,this.rocksText.setText("Rocks Passed: ".concat(this.rocksPassed)),this.level!=this.levelSprites.length-1&&this.rocksPassed>this.rocksPassedPrev&&(this.rockSpeed-=this.rockStepSpeed,this.gravityY=this.gravityY+10,this.jumpVelocity-=this.jumpStepVelocity,this.player._currPlayer.setGravityY(this.gravityY),this.rocksPassedPrev=this.rocksPassed,this.background.setVelocityX(this.rockSpeed))),this.rocksPassed%10==0){let e=Math.floor(this.rocksPassed/10);e!==this.level&&e<this.levelSprites.length&&(this.level=e,this.player.updateLevel(this.level)),this.level>=this.levelSprites.length&&this.scene.start("LeaderboardScene",{playerName:this.playerName,coins:this.coinsCollected})}}handleHit(e,s){this.level==this.levelSprites.length-1?this.player.deadth(()=>{this.scene.start("LeaderboardScene",{playerName:this.playerName,coins:this.coinsCollected})}):this.player.deadth(()=>{this.scene.start("GameOverScene")}),this.rockSpeed=0,this.rock.setVelocityX(this.rockSpeed),this.background.setVelocityX(this.rockSpeed),this.coins.setVelocityX(this.rockSpeed)}onGroundReset(e){e[0]?(this.rock.resetRockPos(this.rockSpeed),this.spawnCoins(this.rock.getX(),this.rock.getY()-100)):e[1]&&Math.floor(10*Math.random())>5&&this.spawnCoins(this.background.ground._1.x+Math.random(this.background.ground._1.width),this.rock.getY()-100)}collectCoin(e,s){s.destroy(),this.coinsCollected++,this.coinsText.setText("Coins: ".concat(this.coinsCollected))}spawnCoins(e,s){var t={maxCount:6,minCount:1,arcWidth:150,arcHeight:150,startDeg:-180,endDeg:0,speedX:this.rockSpeed,scale:.2};this.coins.spawnCoinsArc(e,s,t)}makeSlider(e,s,t,i,a,o,r,n,h){let l=e.add.rectangle(s,t,i,6,6710886).setOrigin(0,.5).setInteractive(),c=s+(r-a)/(o-a)*i,d=e.add.circle(c,t,10,0xffffff).setInteractive({draggable:!0}),p=e.add.text(s,t-24,"".concat(n,": ").concat(Math.round(r)),{fontSize:"16px",fill:"#fff"});return e.input.setDraggable(d,!0),d.on("drag",(e,t)=>{let r=Phaser.Math.Clamp(t,s,s+i);d.x=r;let l=(r-s)/i,c=Phaser.Math.Linear(a,o,l);p.setText("".concat(n,": ").concat(Math.round(c))),h(c)}),l.on("pointerdown",e=>{let t=Phaser.Math.Clamp(e.x,s,s+i);d.x=t;let r=(t-s)/i,l=Phaser.Math.Linear(a,o,r);p.setText("".concat(n,": ").concat(Math.round(l))),h(l)}),{track:l,knob:d,text:p}}constructor(){super("GameScene")}}class u extends Phaser.Scene{create(){this.add.text(280,250,"Game Over",{fontSize:"48px",fill:"#ff0000"}),this.time.delayedCall(5e3,()=>{this.scene.start("LandingScene")})}constructor(){super("GameOverScene")}}class _ extends Phaser.Scene{init(e){this.playerName=e.playerName,this.coins=e.coins,this.highScores=[]}create(){this.highScores.push({name:this.playerName,coins:this.coins}),this.highScores.sort((e,s)=>s.coins-e.coins),this.highScores=this.highScores.slice(0,5),this.add.text(250,150,"Leaderboard",{fontSize:"40px",fill:"#fff"}),this.highScores.forEach((e,s)=>{this.add.text(220,220+30*s,"".concat(s+1,". ").concat(e.name," - ").concat(e.coins," coins"),{fontSize:"24px",fill:"#ffff00"})}),this.time.delayedCall(2e3,()=>{this.scene.start("LandingScene")})}constructor(){super("LeaderboardScene")}}class y extends Phaser.Scene{init(e){this.timeTaken=e.time}create(){this.add.text(250,250,"You Win!",{fontSize:"48px",fill:"#fff"}),this.add.text(250,320,"Time: ".concat(this.timeTaken," seconds"),{fontSize:"24px",fill:"#fff"})}constructor(){super("WinScene")}}let g={type:Phaser.AUTO,width:1920,height:1080,dom:{createContainer:!0},physics:{default:"arcade",arcade:{gravity:{y:700},debug:!1}},scene:[i,m,y,u,_]};new Phaser.Game(g)}}]);