"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[852],{2852:(t,e,s)=>{class i{setProgress(t){let e=t>1?Phaser.Math.Clamp(t/100,0,1):Phaser.Math.Clamp(t,0,1),s=Math.floor(this.barWidth*e);this.fill.clear(),this.fill.fillStyle(0xffff00,1),this.fill.fillRoundedRect(this.barX,this.barY,s,this.barHeight,6),this.percentText.setText("".concat(Math.round(100*e),"%"))}close(){let t=[this.bg,this.track,this.fill,this.label,this.percentText];this.scene.tweens.add({targets:t,alpha:0,duration:250,onComplete:()=>this.destroy()})}destroy(){this.scene.scale.off("resize",this._onResize),[this.bg,this.track,this.fill,this.label,this.percentText].forEach(t=>null==t?void 0:t.destroy())}_layout(t,e){this.bg.setSize(t,e),this.barWidth=Math.floor(.6*t),this.barHeight=18,this.barX=Math.floor((t-this.barWidth)/2),this.barY=Math.floor(e/2),this.label.setPosition(t/2,this.barY-40),this.percentText.setPosition(t/2,this.barY+28);let s=this.percentText.text.endsWith("%")?parseInt(this.percentText.text,10)/100:0;this.track.clear(),this.track.lineStyle(2,0xffffff,1),this.track.strokeRoundedRect(this.barX,this.barY,this.barWidth,this.barHeight,6),this.track.fillStyle(2236962,1),this.track.fillRoundedRect(this.barX,this.barY,this.barWidth,this.barHeight,6),this.setProgress(s)}constructor(t,e={}){var s,i;this.scene=t,this.depth=null!=(s=e.depth)?s:1e4,this.labelText=null!=(i=e.label)?i:"Loading…";let a=t.scale.width,h=t.scale.height;this.bg=t.add.rectangle(0,0,a,h,0,1).setOrigin(0,0).setScrollFactor(0).setDepth(this.depth).setInteractive(),this.barWidth=Math.floor(.6*a),this.barHeight=18,this.barX=Math.floor((a-this.barWidth)/2),this.barY=Math.floor(h/2),this.track=t.add.graphics().setScrollFactor(0).setDepth(this.depth+1),this.fill=t.add.graphics().setScrollFactor(0).setDepth(this.depth+2),this.label=t.add.text(a/2,this.barY-40,this.labelText,{fontFamily:"nokia",fontSize:"18px",color:"#ffffff"}).setOrigin(.5,.5).setScrollFactor(0).setDepth(this.depth+2),this.percentText=t.add.text(a/2,this.barY+28,"0%",{fontFamily:"nokia",fontSize:"16px",color:"#aaaaaa"}).setOrigin(.5,.5).setScrollFactor(0).setDepth(this.depth+2),this.track.clear(),this.track.lineStyle(2,0xffffff,1),this.track.strokeRoundedRect(this.barX,this.barY,this.barWidth,this.barHeight,6),this.track.fillStyle(2236962,1),this.track.fillRoundedRect(this.barX,this.barY,this.barWidth,this.barHeight,6),this.setProgress(0)}}class a extends Phaser.Scene{preload(){this.overlay=new i(this,{label:"Loading…"}),this.load.on("progress",t=>this.overlay.setProgress(t)),this.load.once("complete",()=>{this.overlay.setProgress(1),this.overlay.close(),this.scene.start("GameScene",{getInfo:!0,name:"",company:"",email:""})}),this.load.image("Logo","assets/ui/logo.png"),this.load.image("nameLabel","assets/ui/nameLabel.png"),this.load.image("companyLabel","assets/ui/companyLabel.png"),this.load.image("emailLabel","assets/ui/mailLabel.png"),this.load.image("startBtn","assets/ui/startBtn.png"),this.load.image("coin1","assets/ui/coin/coin_1.png"),this.load.image("coin2","assets/ui/coin/coin_2.png"),this.load.image("coin3","assets/ui/coin/coin_3.png"),this.load.image("coin4","assets/ui/coin/coin_4.png"),this.load.image("coin5","assets/ui/coin/coin_5.png"),this.load.image("coin6","assets/ui/coin/coin_6.png"),this.load.image("scoreLabel","assets/ui/scoreLabel.png"),this.load.image("coinLabel","assets/ui/coinLabel.png"),this.load.image("instructionBox","assets/ui/instructionBox.png"),this.load.image("popup_bg","assets/ui/popup_bg.png"),this.load.image("gameOverTitle","assets/ui/Game_over_title.png"),this.load.image("wayToGoTitle","assets/ui/Way_to_go.png"),this.load.image("scorebox","assets/ui/scorebox.png"),this.load.image("lizardFossil","assets/ui/lizardFossil.png"),this.load.image("birdFossil","assets/ui/birdFossil.png"),this.load.image("monkeyFossil","assets/ui/monkeyFossil.png"),this.load.image("Retry","assets/ui/Retry.png"),this.load.image("Close","assets/ui/Close.png"),this.load.audio("click","assets/audio/click.wav"),this.load.audio("collect","assets/audio/coinCollect.wav"),this.load.audio("evolve","assets/audio/Evolution.mp3"),this.load.audio("gameOver","assets/audio/GameOver.wav"),this.load.audio("8BitSpring","assets/audio/8BitSpring.mp3"),this.load.audio("getClappy","assets/audio/GetClappy.mp3"),this.load.audio("jump","assets/audio/jump.mp3"),this.load.image("coin0000","assets/Coin/coin0000.png"),this.load.image("coin0001","assets/Coin/coin0001.png"),this.load.image("coin0002","assets/Coin/coin0002.png"),this.load.image("coin0003","assets/Coin/coin0003.png"),this.load.image("coin0004","assets/Coin/coin0004.png"),this.load.image("coin0005","assets/Coin/coin0005.png"),this.load.image("background","assets/Enviornment/background.png"),this.load.image("background_item","assets/Enviornment/background_item.png"),this.load.image("cloud_big","assets/Enviornment/cloud_big.png"),this.load.image("cloud_small_0","assets/Enviornment/cloud_small_0.png"),this.load.image("ground_0","assets/Enviornment/ground_0.png"),this.load.image("ground_1","assets/Enviornment/ground_1.png"),this.load.image("grass_0","assets/Enviornment/grass_0.png"),this.load.image("grass_1","assets/Enviornment/grass_1.png"),this.load.image("rock1","assets/Fossil/rock1.png"),this.load.image("rock2","assets/Fossil/rock2.png"),this.load.image("rock3","assets/Fossil/rock3.png"),this.load.image("rock4","assets/Fossil/rock4.png"),this.load.image("LizardJump_000001","assets/lizard/jump/Lizard_jumpo_000001.png"),this.load.image("LizardJump_000002","assets/lizard/jump/Lizard_jumpo_000003.png"),this.load.image("LizardJump_000003","assets/lizard/jump/Lizard_jumpo_000005.png"),this.load.image("LizardJump_000004","assets/lizard/jump/Lizard_jumpo_000007.png"),this.load.image("LizardJump_000005","assets/lizard/jump/Lizard_jumpo_000009.png"),this.load.image("LizardJump_000006","assets/lizard/jump/Lizard_jumpo_000011.png"),this.load.image("LizardJump_000007","assets/lizard/jump/Lizard_jumpo_000013.png"),this.load.image("LizardJump_000008","assets/lizard/jump/Lizard_jumpo_000015.png"),this.load.image("LizardRun_000001","assets/lizard/run/Lizard_run_000001.png"),this.load.image("LizardRun_000002","assets/lizard/run/Lizard_run_000002.png"),this.load.image("LizardRun_000003","assets/lizard/run/Lizard_run_000003.png"),this.load.image("LizardRun_000004","assets/lizard/run/Lizard_run_000004.png"),this.load.image("LizardRun_000005","assets/lizard/run/Lizard_run_000005.png"),this.load.image("LizardRun_000006","assets/lizard/run/Lizard_run_000006.png"),this.load.image("LizardRun_000007","assets/lizard/run/Lizard_run_000007.png"),this.load.image("LizardRun_000008","assets/lizard/run/Lizard_run_000008.png"),this.load.image("LizardRun_000009","assets/lizard/run/Lizard_run_000009.png"),this.load.image("LizardRun_000010","assets/lizard/run/Lizard_run_000010.png"),this.load.image("monkey_1","assets/monkey/run/mONKEY_RUN_000002.png"),this.load.image("monkey_2","assets/monkey/run/mONKEY_RUN_000004.png"),this.load.image("monkey_3","assets/monkey/run/mONKEY_RUN_000006.png"),this.load.image("monkey_4","assets/monkey/run/mONKEY_RUN_000008.png"),this.load.image("monkey_5","assets/monkey/run/mONKEY_RUN_000010.png"),this.load.image("monkey_6","assets/monkey/run/mONKEY_RUN_000012.png"),this.load.image("monkey_7","assets/monkey/run/mONKEY_RUN_000014.png"),this.load.image("monkey_8","assets/monkey/run/mONKEY_RUN_000016.png"),this.load.image("monkey_9","assets/monkey/run/mONKEY_RUN_000018.png"),this.load.image("monkey_10","assets/monkey/run/mONKEY_RUN_000020.png"),this.load.image("monkey_11","assets/monkey/run/mONKEY_RUN_000021.png"),this.load.image("monkeyJump_1","assets/monkey/jump/alpha canvas0005.png"),this.load.image("monkeyJump_2","assets/monkey/jump/alpha canvas0007.png"),this.load.image("monkeyJump_3","assets/monkey/jump/alpha canvas0009.png"),this.load.image("monkeyJump_4","assets/monkey/jump/alpha canvas0011.png"),this.load.image("monkeyJump_5","assets/monkey/jump/alpha canvas0013.png"),this.load.image("monkeyJump_6","assets/monkey/jump/alpha canvas0015.png"),this.load.image("monkeyJump_7","assets/monkey/jump/alpha canvas0017.png"),this.load.image("monkeyJump_8","assets/monkey/jump/alpha canvas0019.png"),this.load.image("ostrichRun_1","assets/bird/run/ostrich_run(1).png"),this.load.image("ostrichRun_2","assets/bird/run/ostrich_run(2).png"),this.load.image("ostrichRun_3","assets/bird/run/ostrich_run(3).png"),this.load.image("ostrichRun_4","assets/bird/run/ostrich_run(4).png"),this.load.image("ostrichRun_5","assets/bird/run/ostrich_run(5).png"),this.load.image("ostrichRun_6","assets/bird/run/ostrich_run(6).png"),this.load.image("ostrichRun_7","assets/bird/run/ostrich_run(7).png"),this.load.image("ostrichRun_8","assets/bird/run/ostrich_run(8).png"),this.load.image("ostrichRun_9","assets/bird/run/ostrich_run(9).png"),this.load.image("ostrichRun_10","assets/bird/run/ostrich_run(10).png"),this.load.image("ostrichJump_0","assets/bird/jump/ostrich-jump-(1)_0000_Layer-1.png"),this.load.image("ostrichJump_1","assets/bird/jump/ostrich-jump-(1)_0001_ostrich-jump-(2).png"),this.load.image("ostrichJump_2","assets/bird/jump/ostrich-jump-(1)_0002_ostrich-jump-(3).png"),this.load.image("ostrichJump_3","assets/bird/jump/ostrich-jump-(1)_0003_ostrich-jump-(4).png"),this.load.image("ostrichJump_4","assets/bird/jump/ostrich-jump-(1)_0003_ostrich-jump-(5).png"),this.load.image("ostrichJump_5","assets/bird/jump/ostrich-jump-(1)_0003_ostrich-jump-(6).png"),this.load.image("ostrichJump_6","assets/bird/jump/ostrich-jump-(1)_0006_ostrich-jump-(7).png"),this.load.image("humanRun_0","assets/human/run/Man_RUn_00001.png"),this.load.image("humanRun_1","assets/human/run/Man_RUn_00002.png"),this.load.image("humanRun_2","assets/human/run/Man_RUn_00003.png"),this.load.image("humanRun_3","assets/human/run/Man_RUn_00004.png"),this.load.image("humanRun_4","assets/human/run/Man_RUn_00005.png"),this.load.image("humanRun_5","assets/human/run/Man_RUn_00006.png"),this.load.image("humanRun_6","assets/human/run/Man_RUn_00007.png"),this.load.image("humanRun_7","assets/human/run/Man_RUn_00008.png"),this.load.image("humanRun_8","assets/human/run/Man_RUn_00009.png"),this.load.image("humanRun_9","assets/human/run/Man_RUn_00010.png"),this.load.image("humanRun_10","assets/human/run/Man_RUn_00011.png"),this.load.image("humanJump_0","assets/human/jump/man_Jump_tk010002.png"),this.load.image("humanJump_1","assets/human/jump/man_Jump_tk010006.png"),this.load.image("humanJump_2","assets/human/jump/man_Jump_tk010008.png"),this.load.image("humanJump_3","assets/human/jump/man_Jump_tk010010.png"),this.load.image("humanJump_4","assets/human/jump/man_Jump_tk010012.png"),this.load.image("humanJump_5","assets/human/jump/man_Jump_tk010014.png"),this.load.image("explosionSmall_0","assets/explosion/small/explosion0000.png"),this.load.image("explosionSmall_1","assets/explosion/small/explosion0001.png"),this.load.image("explosionSmall_2","assets/explosion/small/explosion0002.png"),this.load.image("explosionSmall_3","assets/explosion/small/explosion0003.png"),this.load.image("explosionSmall_4","assets/explosion/small/explosion0004.png"),this.load.image("explosionSmall_5","assets/explosion/small/explosion0005.png"),this.load.image("explosionSmall_6","assets/explosion/small/explosion0006.png"),this.load.image("explosionSmall_7","assets/explosion/small/explosion0007.png"),this.load.image("explosionSmall_8","assets/explosion/small/explosion0008.png"),this.load.image("explosionLarge_0","assets/explosion/large/explosion0000.png"),this.load.image("explosionLarge_1","assets/explosion/large/explosion0001.png"),this.load.image("explosionLarge_2","assets/explosion/large/explosion0002.png"),this.load.image("explosionLarge_3","assets/explosion/large/explosion0003.png"),this.load.image("explosionLarge_4","assets/explosion/large/explosion0004.png"),this.load.image("explosionLarge_5","assets/explosion/large/explosion0005.png"),this.load.image("explosionLarge_6","assets/explosion/large/explosion0006.png"),this.load.image("explosionLarge_7","assets/explosion/large/explosion0007.png"),this.load.image("explosionLarge_8","assets/explosion/large/explosion0008.png"),this.load.image("evolveTite","assets/ui/Evolve_title.png")}create(){this.time.delayedCall(2e3,()=>{this.scene.start("GameScene",{getInfo:!0,name:"",company:"",email:""})})}constructor(){super("LandingScene")}}class h{update(){var t=!1,e=!1;return this._0.x+this.sceneWidth<=0?(this._0.x=this._1.x+this.sceneWidth,t=!0):this._1.x+this.sceneWidth<=0&&(this._1.x=this._0.x+this.sceneWidth,e=!0),[t,e]}setVelocityX(t){this._0.setVelocityX(t),this._1.setVelocityX(t)}getHeight(){return this._0.displayHeight}setZIndex(t){this._0.setDepth(t),this._1.setDepth(t)}constructor(t,e){this.physicsGroup=t,this.sceneWidth=e.sceneWidth;var s="",i="";null==e.texture1?(s=e.texture0,i=e.texture0):(s=e.texture0,i=e.texture1),this._0=this.physicsGroup.create(e.x,e.y,s),this._0.setOrigin(e.origin[0],e.origin[1]);let a=this._0.width,h=e.displaySize[0]/a;this._0.setScale(h),this._0.setVelocityX(e.velocity),this._0.setImmovable(e.immovable),this._0.body.allowGravity=e.allowGravity,this._1=this.physicsGroup.create(this.sceneWidth,e.y,i),this._1.setOrigin(e.origin[0],e.origin[1]),this._1.setScale(h),this._1.setVelocityX(e.velocity),this._1.setImmovable(e.immovable),this._1.body.allowGravity=e.allowGravity}}class o{update(){this.cloud.update(),this.cloudSmall.update(),this.backgroundItem.update(),this.onGroundReset(this.ground.update()),this.grass.update()}setVelocityX(t){this.speed=t,this.gameStart?(this.cloud.setVelocityX(.2*t),this.cloudSmall.setVelocityX(.3*t),this.backgroundItem.setVelocityX(.8*t),this.ground.setVelocityX(t),this.grass.setVelocityX(1.2*t)):(this.cloud.setVelocityX(.2*t),this.cloudSmall.setVelocityX(.3*t))}constructor(t,e){this.scene=t,this.gameStart=!1,this.onGroundReset=e,this.physicsGroup=t.physics.add.group({allowGravity:!1,immovable:!0});let s=this.scene.scale.width,i=this.scene.scale.height;this.background=this.physicsGroup.create(0,0,"background"),this.background.setOrigin(0,0),this.background.setImmovable(!0),this.background.body.allowGravity=!1,this.ground=new h(this.physicsGroup,{x:0,y:i+0,texture0:"ground_0",texture1:"ground_1",origin:[0,1],displaySize:[s,i],velocity:0,immovable:!0,allowGravity:!1,sceneWidth:s});var a={x:0,y:this.ground._0.y-this.ground.getHeight()- -25,texture0:"cloud_big",texture1:null,origin:[0,0],displaySize:[s,i],velocity:0,immovable:!0,allowGravity:!1,sceneWidth:s};this.cloud=new h(this.physicsGroup,a),this.cloud._0.setY(this.cloud._0.y-this.cloud._0.displayHeight),this.cloud._1.setY(this.cloud._1.y-this.cloud._1.displayHeight),this.cloud._1.flipX=!0;var o={x:0,y:this.ground._0.y-this.ground.getHeight()- -25,texture0:"cloud_small_0",texture1:null,origin:[0,0],displaySize:[s,i],velocity:0,immovable:!0,allowGravity:!1,sceneWidth:s};this.cloudSmall=new h(this.physicsGroup,o),this.cloudSmall._0.setY(this.cloudSmall._0.y-this.cloudSmall._0.height-Math.random()*(i-this.cloudSmall._0.y-this.cloudSmall._0.height-100)),this.cloudSmall._1.setY(this.cloudSmall._1.y- -this.cloudSmall._0.height-Math.random()*(i-this.cloudSmall._1.y-this.cloudSmall._1.height-100));var l={x:0,y:this.ground._0.y-this.ground.getHeight()- -25,texture0:"background_item",texture1:null,origin:[0,0],displaySize:[s,i],velocity:0,immovable:!0,allowGravity:!1,sceneWidth:s};this.backgroundItem=new h(this.physicsGroup,l),this.backgroundItem._0.setY(this.backgroundItem._0.y-this.backgroundItem._0.displayHeight),this.backgroundItem._1.setY(this.backgroundItem._1.y-this.backgroundItem._1.displayHeight),this.grass=new h(this.physicsGroup,{x:0,y:i,texture0:"grass_0",texture1:"grass_1",origin:[0,1],displaySize:[s,i],velocity:0,immovable:!0,allowGravity:!1,sceneWidth:s}),this.ground.setZIndex(5),this.grass.setZIndex(6)}}s(5130);class l{updateSprite(t,e,s){this.rockRect1||(this.rockRect1=this.scene.physics.add.sprite(t,e+this._sprite.height/4,null).setOrigin(.5,.5).setVisible(!1),this.rockRect1.setVelocityX(s),this.rockRect1.body.setAllowGravity(!1)),this.rockCircle1||(this.rockCircle1=this.scene.physics.add.sprite(t,e-this._sprite.height/4,null).setOrigin(.5,.5).setVisible(!1),this.rockCircle1.body.setCircle(10),this.rockCircle1.body.setAllowGravity(!1),this.rockCircle1.setVelocityX(s)),this.rockCircle2||(this.rockCircle2=this.scene.physics.add.sprite(t,e,null).setOrigin(.5,.5).setVisible(!1),this.rockCircle2.body.setCircle(10),this.rockCircle2.body.setAllowGravity(!1),this.rockCircle2.setVelocityX(s)),this.rockCircle3||(this.rockCircle3=this.scene.physics.add.sprite(t,e,null).setOrigin(.5,.5).setVisible(!1),this.rockCircle3.body.setCircle(10),this.rockCircle3.body.setAllowGravity(!1),this.rockCircle3.setVelocityX(s));var i=Math.floor(3*Math.random())+1;switch(this._sprite.setTexture("rock"+i),i){case 1:this.rockRect1.setSize(.84*this._sprite.width,this._sprite.height/3,!0),this.rockCircle1.body.setCircle(.3*this._sprite.width),this.rockCircle1.body.setOffset(-15,-8),this.rockCircle2.body.setCircle(20),this.rockCircle2.body.setOffset(-33,5),this.rockCircle3.body.setCircle(20),this.rockCircle3.body.setOffset(40,-78);break;case 2:this.rockRect1.setSize(.95*this._sprite.width,this._sprite.height/2,!0),this.rockCircle1.body.setCircle(this._sprite.height/2*.8),this.rockCircle1.body.setOffset(-30,-0),this.rockCircle2.body.setCircle(20),this.rockCircle2.body.setOffset(-30,-10),this.rockCircle3.body.setCircle(20),this.rockCircle3.body.setOffset(-30,-10);break;case 3:this.rockRect1.setSize(.9*this._sprite.width,.6*this._sprite.height,!0),this.rockRect1.setOffset(-40,-40),this.rockCircle1.body.setCircle(this._sprite.height/2*.72),this.rockCircle1.body.setOffset(-20,-10),this.rockCircle2.body.setCircle(20),this.rockCircle2.body.setOffset(-40,-10),this.rockCircle3.body.setCircle(20),this.rockCircle3.body.setOffset(-50,-10);break;case 4:this.rockRect1.setSize(.9*this._sprite.width,.4*this._sprite.height,!0),this.rockRect1.setOffset(-60,-40),this.rockCircle1.body.setCircle(this._sprite.height/2*.74),this.rockCircle1.body.setOffset(-48,-10),this.rockCircle2.body.setCircle(20),this.rockCircle2.body.setOffset(-15,-70),this.rockCircle3.body.setCircle(20),this.rockCircle3.body.setOffset(-15,-70)}this._colliders=[this.rockRect1,this.rockCircle1,this.rockCircle2,this.rockCircle3]}setVelocityX(t){this._sprite.setVelocityX(t),this.rockCircle1.setVelocityX(t),this.rockCircle2.setVelocityX(t),this.rockCircle3.setVelocityX(t),this.rockRect1.setVelocityX(t)}setX(t){this._sprite.setX(t),this.rockCircle1.x=t,this.rockCircle2.x=t,this.rockCircle3.x=t,this.rockRect1.x=t}resetRockPos(t){this.setVelocityX(0),this.updateSprite();var e=this.rockBase.x+.2*this.rockBase.width+Math.random()*this.rockBase.width*.6;this.setX(e),this.playerPassed=!1,this.setVelocityX(t)}getColliders(){return this._colliders}getX(){return this._sprite.x}getY(){return this._sprite.y}constructor(t,e){this.scene=t,this.rockBase=e.rockBase,this._colliders=[],this._sprite=this.scene.physics.add.sprite(e.x,e.y,"rock1"),this._sprite.body.setAllowGravity(!1),this._sprite.setVelocityX(e.speed),this._sprite.setImmovable(!0),this._sprite.setBounce(0),this._sprite.playerPassed=!1,this.updateSprite(e.x,e.y,e.speed)}}class n{getColliders(){return this._activeCoins}spawnCoin(t,e){}setVelocityX(t){this._activeCoins.forEach(e=>{var s;return null==e||null==(s=e.body)?void 0:s.setVelocityX(t)})}spawnCoinsArc(t,e){let{minCount:s=1,maxCount:i=6,arcWidth:a=300,arcHeight:h=200,startDeg:o=-30,endDeg:l=30,speedX:n=-200,scale:r=2}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=new Phaser.Curves.Ellipse(t,e,a,h);c.setStartAngle(o),c.setEndAngle(l),c.setClockwise(!1);var p=s+Math.floor(Math.random()*(i-1));let d=c.getSpacedPoints(p);for(let t=0;t<p;t++){let e=d[t],s=this.scene.physics.add.sprite(e.x,e.y,"coin0000");s.play("coinSpin"),s.setScale(r),s.body.setAllowGravity(!1),s.body.setVelocityX(n),s.body.setSize(s.displayWidth,s.displayHeight,!0),s.setCollideWorldBounds(!1),s.setBounce(0),this._activeCoins.push(s)}}constructor(t){this.scene=t,this.scene.anims.create({key:"coinSpin",frames:[{key:"coin0000"},{key:"coin0001"},{key:"coin0002"},{key:"coin0003"},{key:"coin0004"},{key:"coin0005"}],frameRate:14,repeat:-1}),this._activeCoins=[]}}class r{static getInstance(t){return r.instance||(r.instance=new r(t)),r.instance}preload(){}playMusic(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{loop:!0,volume:.5};this.music&&this.music.stop(),this.music=this.scene.sound.add(t,e),this.music.play()}stopMusic(){this.music&&(this.music.stop(),this.music=null)}pauseMusic(){this.music&&this.music.pause()}resumeMusic(){this.music&&this.music.resume()}setVolume(t){this.music&&this.music.setVolume(t)}playSFX(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{loop:!1,volume:1};this.sfx=this.scene.sound.add(t,e),this.sfx.play()}constructor(t){if(r.instance)return r.instance;this.scene=t,this.music=null,r.instance=this}}r.instance=null;let c=["LizardRun_000001","ostrichRun_1","monkey_1","humanRun_0"],p=["lizard_run","ostrich_run","monkey_run","human_run"],d=["lizard_jump","ostrich_jump","monkey_jump","human_jump"];class u{getColliders(){return this._currPlayer}getX(){return this._currPlayer.x}setX(t){return this._currPlayer.x=t}setVelocityX(t){this._currPlayer.setVelocityX(t)}setVisible(t){this._currPlayer.setVisible(t)}updateGravity(t,e,s){this._currPlayer.body.setGravityY(e/s*t)}createAnims(){this.scene.anims.create({key:"explosion_small",frames:[{key:"explosionSmall_0"},{key:"explosionSmall_1"},{key:"explosionSmall_2"},{key:"explosionSmall_3"},{key:"explosionSmall_4"},{key:"explosionSmall_5"},{key:"explosionSmall_6"},{key:"explosionSmall_7"},{key:"explosionSmall_8"}],frameRate:7,repeat:0}),this.scene.anims.create({key:"explosion_large",frames:[{key:"explosionLarge_0"},{key:"explosionLarge_1"},{key:"explosionLarge_2"},{key:"explosionLarge_3"},{key:"explosionLarge_4"},{key:"explosionLarge_5"},{key:"explosionLarge_6"},{key:"explosionLarge_7"},{key:"explosionLarge_8"}],frameRate:7,repeat:0}),this.scene.anims.create({key:"lizard_run",frames:[{key:"LizardRun_000001"},{key:"LizardRun_000002"},{key:"LizardRun_000003"},{key:"LizardRun_000004"},{key:"LizardRun_000005"},{key:"LizardRun_000006"},{key:"LizardRun_000007"},{key:"LizardRun_000008"},{key:"LizardRun_000009"},{key:"LizardRun_000010"}],frameRate:20,repeat:-1}),this.scene.anims.create({key:"lizard_jump",frames:[{key:"LizardJump_000001"},{key:"LizardJump_000002"},{key:"LizardJump_000003"},{key:"LizardJump_000004"},{key:"LizardJump_000005"},{key:"LizardJump_000006"},{key:"LizardJump_000007"},{key:"LizardJump_000008"}],frameRate:2,repeat:0}),this.scene.anims.create({key:"monkey_run",frames:[{key:"monkey_1"},{key:"monkey_2"},{key:"monkey_3"},{key:"monkey_4"},{key:"monkey_5"},{key:"monkey_6"},{key:"monkey_7"},{key:"monkey_8"},{key:"monkey_9"},{key:"monkey_10"},{key:"monkey_11"}],frameRate:14,repeat:-1}),this.scene.anims.create({key:"monkey_jump",frames:[{key:"monkeyJump_1"},{key:"monkeyJump_2"},{key:"monkeyJump_3"},{key:"monkeyJump_4"},{key:"monkeyJump_5"},{key:"monkeyJump_6"},{key:"monkeyJump_7"},{key:"monkeyJump_8"}],frameRate:14,repeat:0}),this.scene.anims.create({key:"ostrich_run",frames:[{key:"ostrichRun_10"},{key:"ostrichRun_9"},{key:"ostrichRun_8"},{key:"ostrichRun_7"},{key:"ostrichRun_6"},{key:"ostrichRun_5"},{key:"ostrichRun_4"},{key:"ostrichRun_3"},{key:"ostrichRun_2"},{key:"ostrichRun_1"}],frameRate:14,repeat:-1}),this.scene.anims.create({key:"ostrich_jump",frames:[{key:"ostrichJump_0"},{key:"ostrichJump_1"},{key:"ostrichJump_2"},{key:"ostrichJump_3"},{key:"ostrichJump_4"},{key:"ostrichJump_5"},{key:"ostrichJump_6"}],frameRate:14,repeat:-1}),this.scene.anims.create({key:"human_run",frames:[{key:"humanRun_1"},{key:"humanRun_2"},{key:"humanRun_3"},{key:"humanRun_4"},{key:"humanRun_5"},{key:"humanRun_6"},{key:"humanRun_7"},{key:"humanRun_8"},{key:"humanRun_9"},{key:"humanRun_10"}],frameRate:14,repeat:-1}),this.scene.anims.create({key:"human_jump",frames:[{key:"humanJump_0"},{key:"humanJump_1"},{key:"humanJump_2"},{key:"humanJump_3"},{key:"humanJump_4"},{key:"humanJump_5"}],frameRate:14,repeat:-1})}updateLevel(t,e,s){this.level=t,this._currPlayer.setTexture(c[t]),this._currPlayer.play(p[t]),this.evolvePlayer(t,e,s)}evolvePlayer(t,e,s){let i=0;this._currPlayer.x,this._evolve.setScale(0),this._evolve.setAlpha(1),this._evolve.setVisible(!0);let a=()=>{let t=this._evolve;t.body&&(t.body.setSize(t.width,t.height,!0),t.setY(s.y-t.height),t.refreshBody())},h=this.scene.tweens.createTimeline({loop:0});h.add({targets:this._evolve,scaleX:1,scaleY:1,duration:220,ease:"Back.Out",onUpdate:a}),h.add({targets:this._evolve,scaleX:1.2,scaleY:1.2,duration:150,ease:"Bounce.Out",yoyo:!0,repeat:1,onUpdate:a}),h.add({targets:this._evolve,alpha:1,duration:500,onUpdate:a}),h.add({targets:this._evolve,alpha:0,duration:150,ease:"Sine.In",onUpdate:a,onComplete:()=>{this._evolve.setVisible(!1),this._evolve.setAlpha(1),this._evolve.setScale(1)}}),h.play(),r.getInstance(this.scene).playSFX("evolve",{loop:!1,volume:1});let o=this.scene.time.addEvent({delay:100,loop:!0,callback:()=>{i<500||this._currPlayer.setTexture(c[t]),this._currPlayer.setVisible(!this._currPlayer.visible),(i+=100)>=1e3&&(o.remove(),this._currPlayer.setVisible(!0),this._currPlayer.setTexture(c[t]),this._evolve.setVisible(!1)),this._currPlayer.body.setSize(this._currPlayer.width,this._currPlayer.height,!0),this._currPlayer.setY(s.y-this._currPlayer.height),this._currPlayer.refreshBody(),this._currPlayer.setCollideWorldBounds(!0),e()}})}deadth(t){this._explosion.setVisible(!0),r.getInstance(this).stopMusic(),r.getInstance(this).playSFX("gameOver",{loop:!1,volume:1}),this._currPlayer.anims.stop(),this._currPlayer.setVisible(!1),0==this.level||1==this.level?(this._explosion.anims.play("explosion_small",!0),this._explosion.once("animationcomplete-explosion_small",()=>{t()})):(this._explosion.anims.play("explosion_large",!0),this._explosion.once("animationcomplete-explosion_large",()=>{t()}))}jumpStart(){this._currPlayer.play(d[this.level]),this._currPlayer.refreshBody()}jumpOver(){this._currPlayer.play(p[this.level]),this._currPlayer.refreshBody()}constructor(t,e){this.scene=t,this._currPlayer=this.scene.physics.add.sprite(e.x,e.y,c[e.level]),this._evolve=this.scene.add.sprite(e.x,.25*t.scale.height,"evolveTite"),this._evolve.setVisible(!1),this.createAnims(),this.setVelocityX(e.initialVelocity),this.level=e.level,this._currPlayer.setTexture(c[this.level]),this._currPlayer.play(p[this.level]),this._currPlayer.body.setGravityY(e.gravityY),this._explosion=this.scene.add.sprite(this.scene.scale.width/2,e.groundY,"explosion_small"),this._explosion.setDepth(8),this._explosion.setVisible(!1)}}let m=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i;class g extends Phaser.GameObjects.Container{focus(){if(this.focused)return;let t=this.scene.__activeTextInputBox;t&&t!==this&&t.blur(),this.scene.__activeTextInputBox=this,this.focused=!0,this._touched=!0,this.keyHandler||(this.keyHandler=t=>this.handleKey(t),this.scene.input.keyboard.on("keydown",this.keyHandler)),this.caretVisible=!0,this.updateDisplay()}blur(){this.focused&&(this.focused=!1,this.keyHandler&&(this.scene.input.keyboard.off("keydown",this.keyHandler),this.keyHandler=null),this.scene.__activeTextInputBox===this&&(this.scene.__activeTextInputBox=null),this.updateDisplay())}handleKey(t){let e=t.key;if("Tab"===e){var s;null==(s=t.preventDefault)||s.call(t),this.blur();return}if("Enter"===e){"function"==typeof this.onEnter&&this.onEnter(this.value);return}return"Backspace"===e||"Delete"===e?(this.value=this.value.slice(0,-1),this._afterEdit()):1===e.length&&this.charPattern.test(e)&&this.value.length<this.maxLength?(this.value+=e,this._afterEdit()):void 0}_afterEdit(){this.updateDisplay(),this.onChange&&this.onChange(this.value)}updateDisplay(){let t=this.focused&&this.caretVisible,e=this.value.length?this.value:this.focused?"":this.placeholder;this.valueText.setText(t?"".concat(e,"|"):e),this.valueText.setStyle({parse:!1}),this._updateValidityVisual()}isValid(){let t=this.value.trim();return(!this.required||0!==t.length)&&(this.validator?!!this.validator(t):"email"!==this.type||!!this.deferEmailUntilFocus&&!this._touched||m.test(t))}isEmailValid(){let t=this.value.trim();return!!this.deferEmailUntilFocus&&!this._touched||m.test(t)}_updateValidityVisual(){let t=this.isValid(),e="email"===this.type?this._touched:this.required||this.value.length>0;this.valueText.setColor(e&&!t?this.invalidColor:this.validColor),this.bg.setTint&&(e&&!t?this.bg.setTint(0xffe6e6):this.bg.clearTint())}flashInvalid(){this.isValid()||this.scene.tweens.add({targets:this,alpha:.5,duration:80,yoyo:!0,repeat:2,onComplete:()=>this.setAlpha(1)})}setValue(t){this.value=(null!=t?t:"").toString().slice(0,this.maxLength),this._afterEdit()}getValue(){return this.value}setLabel(t){this.labelText.setText(t)}setBoxWidth(t){this.width=t,void 0!==this.bg.displayWidth?(this.bg.displayWidth=this.width,this.bg.displayHeight=this.height):this.bg.setSize(this.width,this.height),this.labelText.setPosition(this.width/2+this.labelGap,0),this.valueText.setX(-this.width/2+this.paddingX)}destroy(){var t;this.blur(),null==(t=this.caretEvt)||t.remove(!1),super.destroy()}constructor(t,e,s,i,a,h={}){var o,l,n,c,p,d,u,m;super(t,e,s),t.add.existing(this),this.width=i||420,this.height=null!=(o=h.height)?o:40,this.paddingX=null!=(l=h.paddingX)?l:10,this.maxLength=null!=(n=h.maxLength)?n:64,this.charPattern=null!=(c=h.charPattern)?c:/^[ -~]$/,this.value=null!=(p=h.value)?p:"",this.placeholder=null!=(d=h.placeholder)?d:"",this.onEnter=h.onEnter||null,this.bgKey=h.bgKey||null,this.bgFrame=h.bgFrame||null,this.labelGap=null!=(u=h.labelGap)?u:10,this.type=h.type||null,this.required=!!h.required,this.validator=h.validator||null,this.onChange="function"==typeof h.onChange?h.onChange:null,this.validColor=h.validColor||"#000000",this.invalidColor=h.invalidColor||"#b00020",this.deferEmailUntilFocus=null==(m=h.deferEmailUntilFocus)||m,this._touched=!1,this.bgKey?(this.bg=t.add.image(0,0,this.bgKey,this.bgFrame).setOrigin(.5,.5).setInteractive({useHandCursor:!0}),this.width=this.bg.width,this.height=this.bg.height):this.bg=t.add.rectangle(0,0,this.width,this.height,2236962,.9).setOrigin(.5,.5).setInteractive({useHandCursor:!0}),this.labelText=t.add.text(this.width/2+this.labelGap,0,"".concat(a),{fontFamily:"nokia",fontSize:"20px",color:"#ffff00",parse:!1}).setOrigin(0,.5).setInteractive({useHandCursor:!0});let g=this.width/2-this.paddingX;this.valueText=t.add.text(g,0,"",{fontFamily:"nokia",fontSize:"20px",color:"#000000",padding:{top:0,right:0,bottom:6,left:0},fixedWidth:this.width-2*this.paddingX,align:"right",wordWrap:{width:this.width-2*this.paddingX,useAdvancedWrap:!0}}).setOrigin(1,.5),this.add([this.bg,this.valueText,this.labelText]),this.focused=!1,this.caretVisible=!0,this.keyHandler=null,this.caretEvt=t.time.addEvent({delay:500,loop:!0,callback:()=>{this.focused&&(this.caretVisible=!this.caretVisible,this.updateDisplay())}}),this.bg.on("pointerdown",()=>{this.focus(),r.getInstance(this).playSFX("click",{loop:!1,volume:1})}),this.labelText.on("pointerdown",()=>{this.focus(),r.getInstance(this).playSFX("click",{loop:!1,volume:1})}),this.bg.setTint?(this.bg.on("pointerover",()=>this.bg.setTint(0xdddddd)),this.bg.on("pointerout",()=>this.bg.clearTint())):(this.bg.on("pointerover",()=>this.bg.setFillStyle(3355443)),this.bg.on("pointerout",()=>this.bg.setFillStyle(2236962))),this.updateDisplay()}}class y{setPosition(t,e){return this.sprite.setPosition(t,e),this.label&&this.label.setPosition(t,e+this._labelDy),this}setX(t){return this.setPosition(t,this.sprite.y)}setY(t){return this.setPosition(this.sprite.x,t)}setDepth(t){return this.sprite.setDepth(t),this.label&&this.label.setDepth(t+1),this}setScale(t,e){return this.baseScaleX=t,this.baseScaleY=null!=e?e:t,this.sprite.setScale(this.baseScaleX,this.baseScaleY),this.label&&this.label.setScale(this.baseScaleX,this.baseScaleY),this}setVisible(t){return this.sprite.setVisible(t),this.label&&this.label.setVisible(t),this}setAlpha(t){return this.sprite.setAlpha(t),this.label&&this.label.setAlpha(t),this}setEnabled(t){return t?this.sprite.setInteractive({useHandCursor:!0}):this.sprite.disableInteractive(),this.setAlpha(t?1:.6),this}setLabel(t){return this.label&&this.label.setText(t),this}destroy(){this.sprite&&(this.sprite.off("pointerover",this._onOver),this.sprite.off("pointerout",this._onOut),this.sprite.off("pointerdown",this._onDown),this.sprite.off("pointerup",this._onUp),this.sprite.off("pointerupoutside",this._onUpOutside),this.sprite.destroy(),this.label&&this.label.destroy(),this.sprite=null,this.label=null)}constructor(t,e,s,i,a="",h=()=>{},o={}){this.scene=t,this.onClick=h;let{frame:l=null,fontSize:n=18,labelColor:c="#ffffff",labelDy:p=0,hoverTint:d=0xdedede,downTint:u=0xbdbdbd,upTint:m=null,useHand:g=!0,pressScale:y=.98,depth:_=null}=o;this._tints={hoverTint:d,downTint:u,upTint:m},this._pressScale=y,this._labelDy=p,this._isOver=!1,this.sprite=t.add.sprite(e,s,i,l).setOrigin(.5,0).setInteractive({useHandCursor:g}),this.baseScaleX=this.sprite.scaleX,this.baseScaleY=this.sprite.scaleY,null!==_&&this.sprite.setDepth(_),null!==m&&this.sprite.setTint(m),this.label=null,a&&(this.label=t.add.text(e,s+p,a,{fontSize:"".concat(n,"px"),color:c}).setOrigin(.5),null!==_&&this.label.setDepth(_+1),this.label.setAlpha(.95)),this._onOver=()=>{this._isOver=!0,null!==d&&this.sprite.setTint(d),this.label&&this.label.setAlpha(1)},this._onOut=()=>{this._isOver=!1,null!==m?this.sprite.setTint(m):this.sprite.clearTint(),this.sprite.setScale(this.baseScaleX,this.baseScaleY),this.label&&this.label.setAlpha(.95)},this._onDown=()=>{r.getInstance(this).playSFX("click",{loop:!1,volume:1}),null!==u&&this.sprite.setTint(u),this._pressScale&&this.sprite.setScale(this.baseScaleX*this._pressScale,this.baseScaleY*this._pressScale)},this._onUp=t=>{this._isOver?null!==d&&this.sprite.setTint(d):null!==m?this.sprite.setTint(m):this.sprite.clearTint(),this.sprite.setScale(this.baseScaleX,this.baseScaleY),this._isOver&&this.onClick(t)},this._onUpOutside=()=>{this._isOver=!1,null!==m?this.sprite.setTint(m):this.sprite.clearTint(),this.sprite.setScale(this.baseScaleX,this.baseScaleY),this.label&&this.label.setAlpha(.95)},this.sprite.on("pointerover",this._onOver),this.sprite.on("pointerout",this._onOut),this.sprite.on("pointerdown",this._onDown),this.sprite.on("pointerup",this._onUp),this.sprite.on("pointerupoutside",this._onUpOutside)}}class _{showForm(){this.logo.setVisible(!1),this.coin.setVisible(!0),this.coin.play("coinAnim"),this.coin.anims.timeScale=.5,this.nameBox.setVisible(!0),this.companyBox.setVisible(!0),this.emailBox.setVisible(!0),this.submitBg.setVisible(!0),this.instructionBox.setVisible(!0),this.instructionBox_text.setVisible(!0)}updateDisplay(){let t=this.cursorVisible?"|":" ",e=this.inputFields[this.currentFieldIndex];"name"===e?(this.fieldTexts.name.setFill("#ffffff"),this.fieldTexts.company.setFill("#ffff00"),this.fieldTexts.email.setFill("#ffff00"),this.backgroundRects.name.setStrokeStyle(2,8978312),this.backgroundRects.company.setStrokeStyle(2,4473924),this.backgroundRects.email.setStrokeStyle(2,4473924)):"company"===e&&(this.fieldTexts.name.setFill("#ffff00"),this.fieldTexts.email.setFill("#ffff00"),this.fieldTexts.company.setFill("#ffffff"),this.backgroundRects.name.setStrokeStyle(2,4473924),this.backgroundRects.email.setStrokeStyle(2,4473924),this.backgroundRects.company.setStrokeStyle(2,8978312)),this.fieldTexts.name.setText("Name: ".concat(this.inputData.name).concat("name"===e?t:"")),this.fieldTexts.company.setText("Company: ".concat(this.inputData.company).concat("company"===e?t:"")),this.fieldTexts.email.setText("Email: ".concat(this.inputData.company).concat("Email"===e?t:""))}trySubmit(){var t;let e=this.nameBox.getValue().trim(),s=this.companyBox.getValue().trim(),i=this.emailBox.getValue().trim();if(!this.emailBox.isValid())return void this.emailBox.flashInvalid();null==(t=this.onStartCallback)||t.call(this,{name:e,company:s,email:i})}setDepth(t){this.logo.setDepth(t),this.nameInput&&this.nameInput.setDepth(t),this.startButton&&this.startButton.setDepth(t),this.nameLabel&&this.nameLabel.setDepth(t),this.nameInput&&this.nameInput.setDepth(t),this.instructionBox.setDepth(t),this.instructionBox_text.setDepth(t+1)}setVisible(t){this.coin.setVisible(t),this.nameBox.setVisible(t),this.companyBox.setVisible(t),this.emailBox.setVisible(t),this.submitBg.setVisible(t),this.instructionBox.setVisible(t),this.instructionBox_text.setVisible(t)}constructor(t,e){this.scene=t,this.onStartCallback=e,this.logo=t.add.sprite(t.scale.width/2,t.scale.height/2+70,"Logo").setOrigin(.5),this.logo.setScale(3),t.input.once("pointerdown",()=>{this.showForm(),r.getInstance(this).playSFX("click",{loop:!1,volume:.7})}),this.scene.time.delayedCall(3e3,()=>{this.showForm()}),this.scene.anims.create({key:"coinAnim",frames:[{key:"coin1"},{key:"coin2"},{key:"coin3"},{key:"coin4"},{key:"coin5"},{key:"coin6"}],frameRate:20,repeat:-1}),this.coin=this.scene.add.sprite(.5*this.scene.scale.width,.2*this.scene.scale.height,"coin1").setOrigin(.5,.5),this.coin.setVisible(!1),this.nameBox=new g(this.scene,this.coin.x,this.coin.y+.6*this.coin.height+50,420,"",{placeholder:"_YourName_",maxLength:40,onEnter:()=>this.companyBox.focus(),bgKey:"nameLabel"}),this.nameBox.setVisible(!1),this.companyBox=new g(this.scene,this.nameBox.x,this.nameBox.y+this.nameBox.height+50,420,"",{placeholder:"_CompanyName_",maxLength:60,onEnter:()=>this.emailBox.focus(),bgKey:"companyLabel"}),this.companyBox.setVisible(!1),this.emailBox=new g(this.scene,this.nameBox.x,this.companyBox.y+this.companyBox.height+50,420,"",{type:"email",required:!0,placeholder:"_Email_",charPattern:/^[a-zA-Z0-9@._+\-]$/,onEnter:()=>this.trySubmit(),bgKey:"emailLabel"}),this.emailBox.setVisible(!1),this.submitBg=new y(this.scene,this.nameBox.x,this.emailBox.y+this.emailBox.height/2+50,"startBtn","",this.trySubmit.bind(this),{fontSize:22,hoverTint:0xe6e6ff,downTint:0xc7c7ff,upTint:null,pressScale:.98,useHand:!0,labelDy:0,depth:20}),this.submitBg.setVisible(!1),this.instructionBox=this.scene.add.sprite(50,0,"instructionBox").setOrigin(0,1),this.instructionBox.setY(this.scene.scale.height-50),this.instructionBox.setVisible(!1),this.instructionBox_text=this.scene.add.text(this.instructionBox.x+this.instructionBox.width/2,this.instructionBox.y-this.instructionBox.height/2,"Catch the coins!\ndon't touch the fossils!",{fontFamily:"nokia",fontSize:"30px",fill:"#000000ff",align:"center"}),this.instructionBox_text.setOrigin(.5,.5),this.instructionBox_text.setVisible(!1)}}class k{formatCoins(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,s=t<0?"-":"",i=Math.floor(Math.abs(t));if(i<1e4){let t=String(i).padStart(4,"0");return s?"-"+t:t}return this.formatCompactMax(t,e)}updateCoin(t){this._coins+=0|t,this.coinText.setText(this.formatCoins(t,8)),this._bump(this.coinText)}updateDistance(t){this._distance+=t,this.distanceText.setText(this.formatCoins(this._distance,8)),this._bump(this.distanceText)}getScore(){return this._distance}_bump(t){this.scene.tweens.add({targets:t,scaleX:1.08,scaleY:1.08,duration:80,yoyo:!0,ease:"Quad.easeOut"})}setDepth(t){this.leftBg.setDepth(t),this.coinText.setDepth(t+1),this.rightBg.setDepth(t),this.distanceText.setDepth(t+1)}formatCompactMax(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,s=["","k","M","B","T","P","E"],i=t<0?"-":"",a=Math.abs(t),h=i+String(Math.floor(a));if(h.length<=e)return h;for(let t=1;t<s.length;t++){let h=a/Math.pow(1e3,t);for(let a=2;a>=0;a--){let o=h.toFixed(a).replace(/\.0+$|(\.\d*[1-9])0+$/,"$1");if("1000"===o&&t<s.length-1){let a=i+"1"+s[t+1];if(a.length<=e)return a}let l=i+o+s[t];if(l.length<=e)return l}}let o=s.length-1;return i+Math.round(a/Math.pow(1e3,o))+s[o]}destroy(){this.scene.scale.off("resize",this._onResize),this.leftBg.destroy(),this.rightBg.destroy(),this.coinText.destroy(),this.distanceText.destroy()}constructor(t,e={}){this.scene=t;let{leftBgKey:s="uiBoxLeft",rightBgKey:i="uiBoxRight",boxWidth:a=null,boxHeight:h=null,margin:o=16,pad:l=12,fontFamily:n="Press Start 2P",fontSize:r=18,textColor:c="#ffffff",depth:p=1e3}=e;this.margin=o,this.pad=l,this.leftBg=t.add.image(o,o,s).setOrigin(0,0).setScrollFactor(0).setDepth(p);let d=this.leftBg.displayWidth-2*l;this.coinText=t.add.text(this.leftBg.x+40+.5*this.leftBg.displayWidth,this.leftBg.y+5+this.leftBg.displayHeight/2,"0000",{fontFamily:"nokia",fontSize:"".concat(r,"px"),color:c,padding:{bottom:6},align:"center",fixedWidth:d,wordWrap:{width:d}}).setOrigin(.5).setScrollFactor(0).setDepth(p+1),this.rightBg=t.add.image(t.scale.width-o,o,i).setOrigin(1,0).setScrollFactor(0).setDepth(p),this.distanceLabel=t.add.text(this.rightBg.x-2*this.rightBg.displayWidth+180,this.rightBg.y+5+this.rightBg.displayHeight/2,"SCORE",{fontFamily:"nokia",fontSize:"".concat(r,"px"),color:c,padding:{bottom:6},align:"right",fixedWidth:this.rightBg.displayWidth-2*this.pad,wordWrap:{width:this.rightBg.displayWidth-2*this.pad,useAdvancedWrap:!0}}).setOrigin(0,.5).setScrollFactor(0).setDepth(p+1),this.distanceText=t.add.text(this.rightBg.x-this.pad,this.rightBg.y+5+this.rightBg.displayHeight/2,"0000",{fontFamily:"nokia",fontSize:"".concat(r,"px"),color:c,padding:{bottom:6}}).setOrigin(1,.5).setScrollFactor(0).setDepth(p+1),this._coins=0,this._distance=0}}class b{setLevel(t){this.level=t}setScore(t){this.score.setText(t)}setDepth(t){this.popupBg.setDepth(t),this.scoreBox.setDepth(t),t++,this.scoreTitle.setDepth(t),this.score.setDepth(t),this.title.setDepth(t),this.title_win.setDepth(t),this.fossil_lizard.setDepth(t),this.fossil_bird.setDepth(t),this.fossil_monkey.setDepth(t),this.fossil_man.setDepth(t),this.text.setDepth(t),this.redoBtn.setDepth(t),this.closeBtn.setDepth(t)}setVisible(t){this.popupBg.setVisible(t),this.scoreBox.setVisible(t),this.scoreTitle.setVisible(t),this.score.setVisible(t),this.title.setVisible(t),console.log(this.level),0==this.level?(this.fossil_lizard.setVisible(t),this.text.setPosition(this.text.x,this.fossil_lizard.y+.2*this.fossil_lizard.height),this.text.setText("You fossilized!\nBetter luck next time!")):1==this.level?(this.fossil_bird.setVisible(t),this.text.setPosition(this.text.x,this.fossil_bird.y+.2*this.fossil_bird.height),this.text.setText("You fossilized!\nBetter luck next time!")):2==this.level?(this.fossil_monkey.setVisible(t),this.text.setPosition(this.text.x,this.fossil_monkey.y+.2*this.fossil_monkey.height),this.text.setText("You fossilized!\nBetter luck next time!")):(this.fossil_man.setVisible(t),this.title.setVisible(!1),this.title_win.setVisible(!0),this.text.setText("What will you\nevolve into next?"),this.fossil_man.play("human_run")),this.text.setVisible(t),this.redoBtn.setVisible(t),this.closeBtn.setVisible(t)}constructor(t,e){this.scene=t,this.onReload=e,this.level=1,this.popupBg=this.scene.add.sprite(.5*this.scene.scale.width,.5*this.scene.scale.height,"popup_bg").setOrigin(.5,.5),this.scoreBox=this.scene.add.sprite(.5*this.scene.scale.width,this.popupBg.y-this.popupBg.height/2,"scorebox").setOrigin(.5,1),this.scoreTitle=this.scene.add.text(this.scoreBox.x-.2*this.scoreBox.width,this.scoreBox.y-.5*this.scoreBox.height,"SCORE",{fontSize:"24px",fontFamily:"nokia",color:"#000000ff"}).setOrigin(.5),this.score=this.scene.add.text(this.scoreBox.x+.5*this.scoreBox.width-100,this.scoreTitle.y,"0000",{fontSize:"24px",fontFamily:"nokia",color:"#000000ff"}).setOrigin(.5),this.title=this.scene.add.sprite(this.scoreBox.x,this.scoreBox.y+100,"gameOverTitle").setOrigin(.5).setScale(2).setVisible(!1),this.title_win=this.scene.add.sprite(this.scoreBox.x,this.scoreBox.y+100,"wayToGoTitle").setOrigin(.5).setScale(2).setVisible(!1),this.fossil_lizard=this.scene.add.sprite(this.title.x,this.title.y+100,"lizardFossil").setOrigin(.5),this.fossil_lizard.setScale(.3),this.fossil_lizard.setPosition(this.popupBg.x,this.popupBg.y),this.fossil_lizard.setVisible(!1),this.fossil_bird=this.scene.add.sprite(this.title.x,this.title.y+100,"birdFossil").setOrigin(.5),this.fossil_bird.setScale(.3),this.fossil_bird.setPosition(this.popupBg.x,this.popupBg.y),this.fossil_bird.setVisible(!1),this.fossil_monkey=this.scene.add.sprite(this.title.x,this.title.y+100,"monkeyFossil").setOrigin(.5),this.fossil_monkey.setScale(.3),this.fossil_monkey.setPosition(this.popupBg.x,this.popupBg.y+25),this.fossil_monkey.setVisible(!1),this.fossil_man=this.scene.add.sprite(this.title.x,this.title.y+100,"man").setOrigin(.5,.5),this.fossil_man.setScale(2),this.fossil_man.setPosition(this.popupBg.x,this.popupBg.y),this.fossil_man.setVisible(!1),this.text=this.scene.add.text(this.popupBg.x,this.popupBg.y+150,"You fossilized!\nBetter luck next time!",{fontSize:"36px",fontFamily:"nokia",color:"#ffffffff",align:"center"}).setOrigin(.5),this.redoBtn=new y(this.scene,this.popupBg.x-.1*this.popupBg.width,this.popupBg.y+this.popupBg.height/2+25,"Retry","",()=>{this.onReload()},{fontSize:22,hoverTint:0xe6e6ff,downTint:0xc7c7ff,upTint:null,pressScale:.98,useHand:!0,labelDy:0,depth:20}),this.closeBtn=new y(this.scene,this.popupBg.x+.1*this.popupBg.width,this.popupBg.y+this.popupBg.height/2+25,"Close","",()=>{this.scene.scene.start("LandingScene")},{fontSize:22,hoverTint:0xe6e6ff,downTint:0xc7c7ff,upTint:null,pressScale:.98,useHand:!0,labelDy:0,depth:20})}}class x{retune(){let t=Math.abs(this.getSpeed());this.currentG=this.baseGravity+this.kGravity*t,this.currentJump=this.baseJump-this.kJump*t;let e=this.baseMaxFall+this.kMaxFall*t;this.player.setMaxVelocity(Number.MAX_SAFE_INTEGER,e)}update(){let t=this.player.body;if(!t)return;this.jumpKey.isDown&&this.jumpCount<1&&(this.player.setGravityY(this.currentG),r.getInstance(this).playSFX("jump",{loop:!1,volume:1}),t.velocity.y=this.currentJump,this.jumpCount++,this.scene.player.jumpStart()),this.scene.game.loop.delta;let e=1,s=!0===this.jumpKey.isDown;t.velocity.y<0&&!s&&(e*=this.lowJumpMult),t.velocity.y>0&&(e*=this.fallMult),Math.abs(t.velocity.y)<=this.apexVelEps&&(e*=this.apexScale),this.currentG}constructor(t,e,s,i){this.scene=t,this.player=e,this.jumpKey=s,this.getSpeed=i,this.jumpCount=0,this.baseGravity=1500,this.baseJump=-720,this.baseMaxFall=1300,this.kGravity=1,this.kJump=.55,this.kMaxFall=.6,this.lowJumpMult=2.4,this.fallMult=2,this.apexVelEps=40,this.apexScale=.9,this.currentG=this.baseGravity,this.currentJump=this.baseJump,e.setMaxVelocity(Number.MAX_SAFE_INTEGER,this.baseMaxFall)}}class f extends Phaser.Scene{init(t){this.playerName=t.playerName||"Anonymous",this.gameStart=!1,this.gameOver=!1,this.getInfo=t.getInfo,this.name=t.name,this.company=t.company,this.email=t.email}create(){r.getInstance(this).playMusic("8BitSpring",{loop:!0,volume:1}),this.ui=new k(this,{leftBgKey:"coinLabel",rightBgKey:"scoreLabel",boxWidth:0,boxHeight:0,fontFamily:"Press Start 2P",fontSize:36,textColor:"#000000ff",margin:16,pad:14,depth:9999}),this.jumpCount=0,this.coinsCollected=0,this.level=0,this.rocksPassed=0,this.rocksPassedPrev=-1,this.levelSprites=["lizard","ostrich","monkey_1","man"],this.gravityY=0,this.rockSpeed=-700,this.rockStepSpeed=25,this.jumpVelocity=-800,this.jumpStepVelocity=20,this.distance=0,this.background=new o(this,this.onGroundReset.bind(this)),this.background.setVelocityX(this.rockSpeed),this.ground=this.add.rectangle(this.scale.width/2,this.background.ground._0.y-this.background.ground._0.height+25,this.scale.width,2,0),this.ground.alpha=0,this.physics.add.existing(this.ground,!0);var t={x:this.scale.width/2,y:this.ground.y-100,level:this.level,scale:1,initialVelocity:0,gravityY:this.gravityY,groundY:this.ground.y};this.player=new u(this,t),this.player.setVisible(!1);var e={x:this.background.ground._0.width+this.background.ground._1.width+Math.random()*this.background.ground._0.width,y:this.background.ground._0.y-this.background.ground._0.height-10,speed:0,rockBase:this.background.ground._0};if(this.rock=new l(this,e),this.rock._sprite.setDepth(6),this.player._currPlayer.setDepth(7),this.coins=new n(this),this.physics.add.overlap(this.player.getColliders(),this.rock.getColliders(),this.handleHit,null,this),this.physics.add.overlap(this.player.getColliders(),this.coins.getColliders(),this.collectCoin,null,this),this.spaceKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE),this.getInfo)this.startPopup=new _(this,this.beginGameplay.bind(this)),this.startPopup.setDepth(10);else{let t=this.name,e=this.company,s=this.email;this.beginGameplay({name:t,company:e,email:s})}this.gameOverPopup=new b(this,this.reloadGame.bind(this)),this.gameOverPopup.setDepth(10),this.gameOverPopup.setVisible(!1),this.tuner=new x(this,this.player._currPlayer,this.spaceKey,()=>Math.abs(this.rockSpeed)),this.tuner.retune(),this.physics.add.collider(this.player.getColliders(),this.ground,()=>{this.tuner.jumpCount>0&&(this.tuner.jumpCount=0,this.player.jumpOver())}),this.background.setVelocityX(this.rockSpeed)}update(t,e){this.background.update(),this.gameStart&&(this.tuner.update(),this.distance<=100?this.distance++:(this.distance=0,this.ui.updateDistance(1)),!this.rock.playerPassed&&this.rock._sprite.x+this.rock._sprite.width<this.player._currPlayer.x&&(this.rock.playerPassed=!0,this.rocksPassed++,this.rockPassed()&&this.updateSpeed()),this.isLevelUp())}isLevelUp(){if(this.rocksPassed%10==0){let t=Math.floor(this.rocksPassed/10);t!==this.level&&t<this.levelSprites.length&&this.player.updateLevel(t,()=>{this.player._currPlayer.setY(this.ground.y-this.player._currPlayer.height),this.level=t},this.ground)}}levelUp(){}rockPassed(){return this.level!=this.levelSprites.length-1&&this.rocksPassed>this.rocksPassedPrev}updateSpeed(){this.rocksPassedPrev=this.rocksPassed,this.rockSpeed-=this.rockStepSpeed,this.background.setVelocityX(this.rockSpeed),this.tuner.retune(),this.gravityY=this.player._currPlayer.body.gravity.y,this.jumpVelocity=this.tuner.currentJump}beginGameplay(t){let{name:e,company:s,email:i}=t;this.name=e,this.company=s,this.email=i,console.log(e),console.log(s),console.log(i),this.startPopup.setVisible(!1),this.gameStart=!0,this.background.gameStart=!0,this.player.setVisible(!0),this.spawnCoins(this.rock.getX(),this.rock.getY()),this.rock.setVelocityX(this.rockSpeed),this.background.setVelocityX(this.rockSpeed),this.coins.setVelocityX(this.rockSpeed)}reloadGame(){this.gameOver=!1,this.scene.start("GameScene",{getInfo:!1,name:this.name,company:this.company,email:this.email})}handleHit(t,e){this.gameOver||(this.gameOver=!0,this.player.deadth(this.showGameOver.bind(this)),this.rockSpeed=0,this.rock.setVelocityX(this.rockSpeed),this.background.setVelocityX(this.rockSpeed),this.coins.setVelocityX(this.rockSpeed))}showGameOver(){this.gameOverPopup.setLevel(this.level),this.gameOverPopup.setScore(this.ui.getScore()),this.gameOverPopup.setVisible(!0),this.gameStart=!1}onGroundReset(t){if(t[0])this.rock.resetRockPos(this.rockSpeed),this.spawnCoins(this.rock.getX(),this.rock.getY()-100);else if(t[1]){var e=Math.floor(10*Math.random());e>2&&e<8&&this.spawnCoins(this.background.ground._1.x+.5*this.background.ground._1.width,this.rock.getY()-100)}}collectCoin(t,e){e.destroy(),this.coinsCollected+=100,this.ui.updateCoin(this.coinsCollected),r.getInstance(this).playSFX("collect",{loop:!1,volume:1})}spawnCoins(t,e){var s={maxCount:6,minCount:1,arcWidth:150,arcHeight:150,startDeg:-180,endDeg:0,speedX:this.rockSpeed,scale:1};this.coins.spawnCoinsArc(t,e,s)}constructor(){super("GameScene"),this.gameStart=!1,this.distance=0}}class v extends Phaser.Scene{init(t){this.playerName=t.playerName,this.coins=t.coins,this.highScores=[]}create(){this.highScores.push({name:this.playerName,coins:this.coins}),this.highScores.sort((t,e)=>e.coins-t.coins),this.highScores=this.highScores.slice(0,5),this.add.text(250,150,"Leaderboard",{fontFamily:"nokia",fontSize:"40px",fill:"#fff"}),this.highScores.forEach((t,e)=>{this.add.text(220,220+30*e,"".concat(e+1,". ").concat(t.name," - ").concat(t.coins," coins"),{fontFamily:"nokia",fontSize:"24px",fill:"#ffff00"})}),this.time.delayedCall(2e3,()=>{this.scene.start("LandingScene")})}constructor(){super("LeaderboardScene")}}let S={type:Phaser.AUTO,width:1920,height:1080,parent:"game-holder",dom:{createContainer:!0},physics:{default:"arcade",arcade:{gravity:{y:700},debug:!1}},scene:[a,f,v]};new Phaser.Game(S)}}]);