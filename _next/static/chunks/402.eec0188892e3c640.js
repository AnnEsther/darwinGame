"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[402],{1402:(t,s,e)=>{class i{setProgress(t){let s=t>1?Phaser.Math.Clamp(t/100,0,1):Phaser.Math.Clamp(t,0,1),e=Math.floor(this.barWidth*s);this.fill.clear(),this.fill.fillStyle(0xffff00,1),this.fill.fillRoundedRect(this.barX,this.barY,e,this.barHeight,6),this.percentText.setText("".concat(Math.round(100*s),"%"))}close(){let t=[this.bg,this.track,this.fill,this.label,this.percentText];this.scene.tweens.add({targets:t,alpha:0,duration:250,onComplete:()=>this.destroy()})}destroy(){this.scene.scale.off("resize",this._onResize),[this.bg,this.track,this.fill,this.label,this.percentText].forEach(t=>null==t?void 0:t.destroy())}_layout(t,s){this.bg.setSize(t,s),this.barWidth=Math.floor(.6*t),this.barHeight=18,this.barX=Math.floor((t-this.barWidth)/2),this.barY=Math.floor(s/2),this.label.setPosition(t/2,this.barY-40),this.percentText.setPosition(t/2,this.barY+28);let e=this.percentText.text.endsWith("%")?parseInt(this.percentText.text,10)/100:0;this.track.clear(),this.track.lineStyle(2,0xffffff,1),this.track.strokeRoundedRect(this.barX,this.barY,this.barWidth,this.barHeight,6),this.track.fillStyle(2236962,1),this.track.fillRoundedRect(this.barX,this.barY,this.barWidth,this.barHeight,6),this.setProgress(e)}constructor(t,s={}){var e,i;this.scene=t,this.depth=null!=(e=s.depth)?e:1e4,this.labelText=null!=(i=s.label)?i:"Loading…";let a=t.scale.width,h=t.scale.height;this.bg=t.add.rectangle(0,0,a,h,0,1).setOrigin(0,0).setScrollFactor(0).setDepth(this.depth).setInteractive(),this.barWidth=Math.floor(.6*a),this.barHeight=18,this.barX=Math.floor((a-this.barWidth)/2),this.barY=Math.floor(h/2),this.track=t.add.graphics().setScrollFactor(0).setDepth(this.depth+1),this.fill=t.add.graphics().setScrollFactor(0).setDepth(this.depth+2),this.label=t.add.text(a/2,this.barY-40,this.labelText,{fontFamily:"monospace",fontSize:"18px",color:"#ffffff"}).setOrigin(.5,.5).setScrollFactor(0).setDepth(this.depth+2),this.percentText=t.add.text(a/2,this.barY+28,"0%",{fontFamily:"monospace",fontSize:"16px",color:"#aaaaaa"}).setOrigin(.5,.5).setScrollFactor(0).setDepth(this.depth+2),this.track.clear(),this.track.lineStyle(2,0xffffff,1),this.track.strokeRoundedRect(this.barX,this.barY,this.barWidth,this.barHeight,6),this.track.fillStyle(2236962,1),this.track.fillRoundedRect(this.barX,this.barY,this.barWidth,this.barHeight,6),this._onResize=t=>this._layout(t.width,t.height),t.scale.on("resize",this._onResize),this.setProgress(0)}}class a extends Phaser.Scene{preload(){this.overlay=new i(this,{label:"Loading…"}),this.load.on("progress",t=>this.overlay.setProgress(t)),this.load.once("complete",()=>{this.overlay.setProgress(1),this.overlay.close(),this.scene.start("GameScene",{getInfo:!0,name:"",company:"",email:""})}),this.load.image("Logo","assets/ui/logo.png"),this.load.image("nameLabel","assets/ui/nameLabel.png"),this.load.image("companyLabel","assets/ui/companyLabel.png"),this.load.image("emailLabel","assets/ui/mailLabel.png"),this.load.image("startBtn","assets/ui/startBtn.png"),this.load.image("scoreLabel","assets/ui/scoreLabel.png"),this.load.image("coinLabel","assets/ui/coinLabel.png"),this.load.image("instructionBox","assets/ui/instructionBox.png"),this.load.image("popup_bg","assets/ui/popup_bg.png"),this.load.image("scorebox","assets/ui/scorebox.png"),this.load.image("lizardFossil","assets/ui/lizardFossil.png"),this.load.image("birdFossil","assets/ui/birdFossil.png"),this.load.image("monkeyFossil","assets/ui/monkeyFossil.png"),this.load.image("Retry","assets/ui/Retry.png"),this.load.image("Close","assets/ui/Close.png"),this.load.image("coin0000","assets/Coin/coin0000.png"),this.load.image("coin0001","assets/Coin/coin0001.png"),this.load.image("coin0002","assets/Coin/coin0002.png"),this.load.image("coin0003","assets/Coin/coin0003.png"),this.load.image("coin0004","assets/Coin/coin0004.png"),this.load.image("coin0005","assets/Coin/coin0005.png"),this.load.image("background","assets/Enviornment/background.png"),this.load.image("background_item","assets/Enviornment/background_item.png"),this.load.image("cloud_big","assets/Enviornment/cloud_big.png"),this.load.image("cloud_small_0","assets/Enviornment/cloud_small_0.png"),this.load.image("ground_0","assets/Enviornment/ground_0.png"),this.load.image("ground_1","assets/Enviornment/ground_1.png"),this.load.image("grass_0","assets/Enviornment/grass_0.png"),this.load.image("grass_1","assets/Enviornment/grass_1.png"),this.load.image("rock1","assets/Fossil/rock1.png"),this.load.image("rock2","assets/Fossil/rock2.png"),this.load.image("rock3","assets/Fossil/rock3.png"),this.load.image("rock4","assets/Fossil/rock4.png"),this.load.image("LizardJump_000001","assets/lizard/jump/Lizard_jumpo_000001.png"),this.load.image("LizardJump_000002","assets/lizard/jump/Lizard_jumpo_000003.png"),this.load.image("LizardJump_000003","assets/lizard/jump/Lizard_jumpo_000005.png"),this.load.image("LizardJump_000004","assets/lizard/jump/Lizard_jumpo_000007.png"),this.load.image("LizardJump_000005","assets/lizard/jump/Lizard_jumpo_000009.png"),this.load.image("LizardJump_000006","assets/lizard/jump/Lizard_jumpo_000011.png"),this.load.image("LizardJump_000007","assets/lizard/jump/Lizard_jumpo_000013.png"),this.load.image("LizardJump_000008","assets/lizard/jump/Lizard_jumpo_000015.png"),this.load.image("LizardRun_000001","assets/lizard/run/Lizard_run_000001.png"),this.load.image("LizardRun_000002","assets/lizard/run/Lizard_run_000002.png"),this.load.image("LizardRun_000003","assets/lizard/run/Lizard_run_000003.png"),this.load.image("LizardRun_000004","assets/lizard/run/Lizard_run_000004.png"),this.load.image("LizardRun_000005","assets/lizard/run/Lizard_run_000005.png"),this.load.image("LizardRun_000006","assets/lizard/run/Lizard_run_000006.png"),this.load.image("LizardRun_000007","assets/lizard/run/Lizard_run_000007.png"),this.load.image("LizardRun_000008","assets/lizard/run/Lizard_run_000008.png"),this.load.image("LizardRun_000009","assets/lizard/run/Lizard_run_000009.png"),this.load.image("LizardRun_000010","assets/lizard/run/Lizard_run_000010.png"),this.load.image("monkey_1","assets/monkey/run/mONKEY_RUN_000002.png"),this.load.image("monkey_2","assets/monkey/run/mONKEY_RUN_000004.png"),this.load.image("monkey_3","assets/monkey/run/mONKEY_RUN_000006.png"),this.load.image("monkey_4","assets/monkey/run/mONKEY_RUN_000008.png"),this.load.image("monkey_5","assets/monkey/run/mONKEY_RUN_000010.png"),this.load.image("monkey_6","assets/monkey/run/mONKEY_RUN_000012.png"),this.load.image("monkey_7","assets/monkey/run/mONKEY_RUN_000014.png"),this.load.image("monkey_8","assets/monkey/run/mONKEY_RUN_000016.png"),this.load.image("monkey_9","assets/monkey/run/mONKEY_RUN_000018.png"),this.load.image("monkey_10","assets/monkey/run/mONKEY_RUN_000020.png"),this.load.image("monkey_11","assets/monkey/run/mONKEY_RUN_000021.png"),this.load.image("monkeyJump_1","assets/monkey/jump/alpha canvas0005.png"),this.load.image("monkeyJump_2","assets/monkey/jump/alpha canvas0007.png"),this.load.image("monkeyJump_3","assets/monkey/jump/alpha canvas0009.png"),this.load.image("monkeyJump_4","assets/monkey/jump/alpha canvas0011.png"),this.load.image("monkeyJump_5","assets/monkey/jump/alpha canvas0013.png"),this.load.image("monkeyJump_6","assets/monkey/jump/alpha canvas0015.png"),this.load.image("monkeyJump_7","assets/monkey/jump/alpha canvas0017.png"),this.load.image("monkeyJump_8","assets/monkey/jump/alpha canvas0019.png"),this.load.image("ostrichRun_1","assets/bird/run/ostrich_run(1).png"),this.load.image("ostrichRun_2","assets/bird/run/ostrich_run(2).png"),this.load.image("ostrichRun_3","assets/bird/run/ostrich_run(3).png"),this.load.image("ostrichRun_4","assets/bird/run/ostrich_run(4).png"),this.load.image("ostrichRun_5","assets/bird/run/ostrich_run(5).png"),this.load.image("ostrichRun_6","assets/bird/run/ostrich_run(6).png"),this.load.image("ostrichRun_7","assets/bird/run/ostrich_run(7).png"),this.load.image("ostrichRun_8","assets/bird/run/ostrich_run(8).png"),this.load.image("ostrichRun_9","assets/bird/run/ostrich_run(9).png"),this.load.image("ostrichRun_10","assets/bird/run/ostrich_run(10).png"),this.load.image("ostrichJump_0","assets/bird/jump/ostrich-jump-(1)_0000_Layer-1.png"),this.load.image("ostrichJump_1","assets/bird/jump/ostrich-jump-(1)_0001_ostrich-jump-(2).png"),this.load.image("ostrichJump_2","assets/bird/jump/ostrich-jump-(1)_0002_ostrich-jump-(3).png"),this.load.image("ostrichJump_3","assets/bird/jump/ostrich-jump-(1)_0003_ostrich-jump-(4).png"),this.load.image("ostrichJump_4","assets/bird/jump/ostrich-jump-(1)_0003_ostrich-jump-(5).png"),this.load.image("ostrichJump_5","assets/bird/jump/ostrich-jump-(1)_0003_ostrich-jump-(6).png"),this.load.image("ostrichJump_6","assets/bird/jump/ostrich-jump-(1)_0006_ostrich-jump-(7).png"),this.load.image("humanRun_0","assets/human/run/Man_RUn_00001.png"),this.load.image("humanRun_1","assets/human/run/Man_RUn_00003.png"),this.load.image("humanRun_2","assets/human/run/Man_RUn_00005.png"),this.load.image("humanRun_3","assets/human/run/Man_RUn_00007.png"),this.load.image("humanRun_4","assets/human/run/Man_RUn_00009.png"),this.load.image("humanRun_5","assets/human/run/Man_RUn_00011.png"),this.load.image("humanRun_6","assets/human/run/Man_RUn_00013.png"),this.load.image("humanRun_7","assets/human/run/Man_RUn_00015.png"),this.load.image("humanRun_8","assets/human/run/Man_RUn_00017.png"),this.load.image("humanRun_9","assets/human/run/Man_RUn_00019.png"),this.load.image("humanRun_10","assets/human/run/Man_RUn_00021.png"),this.load.image("humanJump_0","assets/human/jump/man_Jump_tk010002.png"),this.load.image("humanJump_1","assets/human/jump/man_Jump_tk010006.png"),this.load.image("humanJump_2","assets/human/jump/man_Jump_tk010008.png"),this.load.image("humanJump_3","assets/human/jump/man_Jump_tk010010.png"),this.load.image("humanJump_4","assets/human/jump/man_Jump_tk010012.png"),this.load.image("humanJump_5","assets/human/jump/man_Jump_tk010014.png"),this.load.image("explosionSmall_0","assets/explosion/small/explosion0000.png"),this.load.image("explosionSmall_1","assets/explosion/small/explosion0001.png"),this.load.image("explosionSmall_2","assets/explosion/small/explosion0002.png"),this.load.image("explosionSmall_3","assets/explosion/small/explosion0003.png"),this.load.image("explosionSmall_4","assets/explosion/small/explosion0004.png"),this.load.image("explosionSmall_5","assets/explosion/small/explosion0005.png"),this.load.image("explosionSmall_6","assets/explosion/small/explosion0006.png"),this.load.image("explosionSmall_7","assets/explosion/small/explosion0007.png"),this.load.image("explosionSmall_8","assets/explosion/small/explosion0008.png"),this.load.image("explosionLarge_0","assets/explosion/large/explosion0000.png"),this.load.image("explosionLarge_1","assets/explosion/large/explosion0001.png"),this.load.image("explosionLarge_2","assets/explosion/large/explosion0002.png"),this.load.image("explosionLarge_3","assets/explosion/large/explosion0003.png"),this.load.image("explosionLarge_4","assets/explosion/large/explosion0004.png"),this.load.image("explosionLarge_5","assets/explosion/large/explosion0005.png"),this.load.image("explosionLarge_6","assets/explosion/large/explosion0006.png"),this.load.image("explosionLarge_7","assets/explosion/large/explosion0007.png"),this.load.image("explosionLarge_8","assets/explosion/large/explosion0008.png")}create(){this.time.delayedCall(2e3,()=>{this.scene.start("GameScene",{getInfo:!0,name:"",company:"",email:""})})}constructor(){super("LandingScene")}}class h{update(){var t=!1,s=!1;return this._0.x+this.sceneWidth<=0?(this._0.x=this._1.x+this.sceneWidth,t=!0):this._1.x+this.sceneWidth<=0&&(this._1.x=this._0.x+this.sceneWidth,s=!0),[t,s]}setVelocityX(t){this._0.setVelocityX(t),this._1.setVelocityX(t)}getHeight(){return this._0.displayHeight}setZIndex(t){this._0.setDepth(t),this._1.setDepth(t)}constructor(t,s){this.physicsGroup=t,this.sceneWidth=s.sceneWidth;var e="",i="";null==s.texture1?(e=s.texture0,i=s.texture0):(e=s.texture0,i=s.texture1),this._0=this.physicsGroup.create(s.x,s.y,e),this._0.setOrigin(s.origin[0],s.origin[1]);let a=this._0.width,h=s.displaySize[0]/a;this._0.setScale(h),this._0.setVelocityX(s.velocity),this._0.setImmovable(s.immovable),this._0.body.allowGravity=s.allowGravity,this._1=this.physicsGroup.create(this.sceneWidth,s.y,i),this._1.setOrigin(s.origin[0],s.origin[1]),this._1.setScale(h),this._1.setVelocityX(s.velocity),this._1.setImmovable(s.immovable),this._1.body.allowGravity=s.allowGravity}}class o{update(){this.cloud.update(),this.cloudSmall.update(),this.backgroundItem.update(),this.onGroundReset(this.ground.update()),this.grass.update()}setVelocityX(t){this.speed=t,this.gameStart?(this.cloud.setVelocityX(.2*t),this.cloudSmall.setVelocityX(.3*t),this.backgroundItem.setVelocityX(.8*t),this.ground.setVelocityX(t),this.grass.setVelocityX(1.2*t)):(this.cloud.setVelocityX(.2*t),this.cloudSmall.setVelocityX(.3*t))}constructor(t,s){this.scene=t,this.gameStart=!1,this.onGroundReset=s,this.physicsGroup=t.physics.add.group({allowGravity:!1,immovable:!0});let e=this.scene.scale.width,i=this.scene.scale.height;this.background=this.physicsGroup.create(0,0,"background"),this.background.setOrigin(0,0),this.background.setImmovable(!0),this.background.body.allowGravity=!1,this.ground=new h(this.physicsGroup,{x:0,y:i+0,texture0:"ground_0",texture1:"ground_1",origin:[0,1],displaySize:[e,i],velocity:0,immovable:!0,allowGravity:!1,sceneWidth:e});var a={x:0,y:this.ground._0.y-this.ground.getHeight()- -25,texture0:"cloud_big",texture1:null,origin:[0,0],displaySize:[e,i],velocity:0,immovable:!0,allowGravity:!1,sceneWidth:e};this.cloud=new h(this.physicsGroup,a),this.cloud._0.setY(this.cloud._0.y-this.cloud._0.displayHeight),this.cloud._1.setY(this.cloud._1.y-this.cloud._1.displayHeight),this.cloud._1.flipX=!0;var o={x:0,y:this.ground._0.y-this.ground.getHeight()- -25,texture0:"cloud_small_0",texture1:null,origin:[0,0],displaySize:[e,i],velocity:0,immovable:!0,allowGravity:!1,sceneWidth:e};this.cloudSmall=new h(this.physicsGroup,o),this.cloudSmall._0.setY(this.cloudSmall._0.y-this.cloudSmall._0.height-Math.random()*(i-this.cloudSmall._0.y-this.cloudSmall._0.height-100)),this.cloudSmall._1.setY(this.cloudSmall._1.y- -this.cloudSmall._0.height-Math.random()*(i-this.cloudSmall._1.y-this.cloudSmall._1.height-100));var l={x:0,y:this.ground._0.y-this.ground.getHeight()- -25,texture0:"background_item",texture1:null,origin:[0,0],displaySize:[e,i],velocity:0,immovable:!0,allowGravity:!1,sceneWidth:e};this.backgroundItem=new h(this.physicsGroup,l),this.backgroundItem._0.setY(this.backgroundItem._0.y-this.backgroundItem._0.displayHeight),this.backgroundItem._1.setY(this.backgroundItem._1.y-this.backgroundItem._1.displayHeight),this.grass=new h(this.physicsGroup,{x:0,y:i,texture0:"grass_0",texture1:"grass_1",origin:[0,1],displaySize:[e,i],velocity:0,immovable:!0,allowGravity:!1,sceneWidth:e}),this.ground.setZIndex(5),this.grass.setZIndex(6)}}e(5130);class l{updateSprite(t,s,e){this.rockRect1||(this.rockRect1=this.scene.physics.add.sprite(t,s+this._sprite.height/4,null).setOrigin(.5,.5).setVisible(!1),this.rockRect1.setVelocityX(e),this.rockRect1.body.setAllowGravity(!1)),this.rockCircle1||(this.rockCircle1=this.scene.physics.add.sprite(t,s-this._sprite.height/4,null).setOrigin(.5,.5).setVisible(!1),this.rockCircle1.body.setCircle(10),this.rockCircle1.body.setAllowGravity(!1),this.rockCircle1.setVelocityX(e)),this.rockCircle2||(this.rockCircle2=this.scene.physics.add.sprite(t,s,null).setOrigin(.5,.5).setVisible(!1),this.rockCircle2.body.setCircle(10),this.rockCircle2.body.setAllowGravity(!1),this.rockCircle2.setVelocityX(e)),this.rockCircle3||(this.rockCircle3=this.scene.physics.add.sprite(t,s,null).setOrigin(.5,.5).setVisible(!1),this.rockCircle3.body.setCircle(10),this.rockCircle3.body.setAllowGravity(!1),this.rockCircle3.setVelocityX(e));var i=Math.floor(3*Math.random())+1;switch(this._sprite.setTexture("rock"+i),i){case 1:this.rockRect1.setSize(.84*this._sprite.width,this._sprite.height/3,!0),this.rockCircle1.body.setCircle(.3*this._sprite.width),this.rockCircle1.body.setOffset(-15,-8),this.rockCircle2.body.setCircle(20),this.rockCircle2.body.setOffset(-33,5),this.rockCircle3.body.setCircle(20),this.rockCircle3.body.setOffset(40,-78);break;case 2:this.rockRect1.setSize(.95*this._sprite.width,this._sprite.height/2,!0),this.rockCircle1.body.setCircle(this._sprite.height/2*.8),this.rockCircle1.body.setOffset(-50,-20),this.rockCircle2.body.setCircle(20),this.rockCircle2.body.setOffset(-70,-10),this.rockCircle3.body.setCircle(20),this.rockCircle3.body.setOffset(-70,-10);break;case 3:this.rockRect1.setSize(.95*this._sprite.width,.6*this._sprite.height,!0),this.rockRect1.setOffset(-60,-40),this.rockCircle1.body.setCircle(this._sprite.height/2*.72),this.rockCircle1.body.setOffset(-30,-10),this.rockCircle2.body.setCircle(20),this.rockCircle2.body.setOffset(-50,-10),this.rockCircle3.body.setCircle(20),this.rockCircle3.body.setOffset(-50,-10);break;case 4:this.rockRect1.setSize(.9*this._sprite.width,.4*this._sprite.height,!0),this.rockRect1.setOffset(-60,-40),this.rockCircle1.body.setCircle(this._sprite.height/2*.74),this.rockCircle1.body.setOffset(-48,-10),this.rockCircle2.body.setCircle(20),this.rockCircle2.body.setOffset(-15,-70),this.rockCircle3.body.setCircle(20),this.rockCircle3.body.setOffset(-15,-70)}this._colliders=[this.rockRect1,this.rockCircle1,this.rockCircle2,this.rockCircle3]}setVelocityX(t){this._sprite.setVelocityX(t),this.rockCircle1.setVelocityX(t),this.rockCircle2.setVelocityX(t),this.rockCircle3.setVelocityX(t),this.rockRect1.setVelocityX(t)}setX(t){this._sprite.setX(t),this.rockCircle1.x=t,this.rockCircle2.x=t,this.rockCircle3.x=t,this.rockRect1.x=t}resetRockPos(t){this.setVelocityX(0),this.updateSprite();var s=this.rockBase.x+Math.random()*this.rockBase.width;this.setX(s),this.playerPassed=!1,this.setVelocityX(t)}getColliders(){return this._colliders}getX(){return this._sprite.x}getY(){return this._sprite.y}constructor(t,s){this.scene=t,this.rockBase=s.rockBase,this._colliders=[],this._sprite=this.scene.physics.add.sprite(s.x,s.y,"rock1"),this._sprite.body.setAllowGravity(!1),this._sprite.setVelocityX(s.speed),this._sprite.setImmovable(!0),this._sprite.setBounce(0),this._sprite.playerPassed=!1,this.updateSprite(s.x,s.y,s.speed)}}class n{getColliders(){return this._activeCoins}spawnCoin(t,s){}setVelocityX(t){this._activeCoins.forEach(s=>{var e;return null==s||null==(e=s.body)?void 0:e.setVelocityX(t)})}spawnCoinsArc(t,s){let{minCount:e=1,maxCount:i=6,arcWidth:a=300,arcHeight:h=200,startDeg:o=-30,endDeg:l=30,speedX:n=-200,scale:r=2}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=new Phaser.Curves.Ellipse(t,s,a,h);c.setStartAngle(o),c.setEndAngle(l),c.setClockwise(!1);var p=e+Math.floor(Math.random()*(i-1));let d=c.getSpacedPoints(p);for(let t=0;t<p;t++){let s=d[t],e=this.scene.physics.add.sprite(s.x,s.y,"coin0000");e.play("coinSpin"),e.setScale(r),e.body.setAllowGravity(!1),e.body.setVelocityX(n),e.body.setSize(e.displayWidth,e.displayHeight,!0),e.setCollideWorldBounds(!1),e.setBounce(0),this._activeCoins.push(e)}}constructor(t){this.scene=t,this.scene.anims.create({key:"coinSpin",frames:[{key:"coin0000"},{key:"coin0001"},{key:"coin0002"},{key:"coin0003"},{key:"coin0004"},{key:"coin0005"}],frameRate:14,repeat:-1}),this._activeCoins=[]}}let r=["LizardRun_000001","ostrichRun_1","monkey_1","man"],c=["lizard_run","ostrich_run","monkey_run","human_run"],p=["lizard_jump","ostrich_jump","monkey_jump","human_jump"];class d{getColliders(){return this._currPlayer}getX(){return this._currPlayer.x}setX(t){return this._currPlayer.x=t}setVelocityX(t){this._currPlayer.setVelocityX(t)}setVisible(t){this._currPlayer.setVisible(t)}updateGravity(t,s,e){this._currPlayer.body.setGravityY(s/e*t)}createAnims(){this.scene.anims.create({key:"explosion_small",frames:[{key:"explosionSmall_0"},{key:"explosionSmall_1"},{key:"explosionSmall_2"},{key:"explosionSmall_3"},{key:"explosionSmall_4"},{key:"explosionSmall_5"},{key:"explosionSmall_6"},{key:"explosionSmall_7"},{key:"explosionSmall_8"}],frameRate:7,repeat:0}),this.scene.anims.create({key:"explosion_large",frames:[{key:"explosionLarge_0"},{key:"explosionLarge_1"},{key:"explosionLarge_2"},{key:"explosionLarge_3"},{key:"explosionLarge_4"},{key:"explosionLarge_5"},{key:"explosionLarge_6"},{key:"explosionLarge_7"},{key:"explosionLarge_8"}],frameRate:7,repeat:0}),this.scene.anims.create({key:"lizard_run",frames:[{key:"LizardRun_000001"},{key:"LizardRun_000002"},{key:"LizardRun_000003"},{key:"LizardRun_000004"},{key:"LizardRun_000005"},{key:"LizardRun_000006"},{key:"LizardRun_000007"},{key:"LizardRun_000008"},{key:"LizardRun_000009"},{key:"LizardRun_000010"}],frameRate:20,repeat:-1}),this.scene.anims.create({key:"lizard_jump",frames:[{key:"LizardJump_000001"},{key:"LizardJump_000002"},{key:"LizardJump_000003"},{key:"LizardJump_000004"},{key:"LizardJump_000005"},{key:"LizardJump_000006"},{key:"LizardJump_000007"},{key:"LizardJump_000008"}],frameRate:2,repeat:0}),this._currPlayer.on("animationcomplete-lizard_jump",()=>{this._currPlayer.play("lizard_run")}),this.scene.anims.create({key:"monkey_run",frames:[{key:"monkey_1"},{key:"monkey_2"},{key:"monkey_3"},{key:"monkey_4"},{key:"monkey_5"},{key:"monkey_6"},{key:"monkey_7"},{key:"monkey_8"},{key:"monkey_9"},{key:"monkey_10"},{key:"monkey_11"}],frameRate:14,repeat:-1}),this.scene.anims.create({key:"monkey_jump",frames:[{key:"monkeyJump_1"},{key:"monkeyJump_2"},{key:"monkeyJump_3"},{key:"monkeyJump_4"},{key:"monkeyJump_5"},{key:"monkeyJump_6"},{key:"monkeyJump_7"},{key:"monkeyJump_8"}],frameRate:14,repeat:0}),this._currPlayer.on("animationcomplete-monkey_jump",()=>{this._currPlayer.play("monkey_run")}),this.scene.anims.create({key:"ostrich_run",frames:[{key:"ostrichRun_1"},{key:"ostrichRun_2"},{key:"ostrichRun_3"},{key:"ostrichRun_4"},{key:"ostrichRun_5"},{key:"ostrichRun_6"},{key:"ostrichRun_7"},{key:"ostrichRun_8"},{key:"ostrichRun_9"},{key:"ostrichRun_10"}],frameRate:14,repeat:-1}),this.scene.anims.create({key:"ostrich_jump",frames:[{key:"ostrichJump_0"},{key:"ostrichJump_1"},{key:"ostrichJump_2"},{key:"ostrichJump_3"},{key:"ostrichJump_4"},{key:"ostrichJump_5"},{key:"ostrichJump_6"}],frameRate:14,repeat:-1}),this._currPlayer.on("animationcomplete-ostritch_jump",()=>{this._currPlayer.play("ostrich_run")}),this.scene.anims.create({key:"human_run",frames:[{key:"humanRun_1"},{key:"humanRun_2"},{key:"humanRun_3"},{key:"humanRun_4"},{key:"humanRun_5"},{key:"humanRun_6"},{key:"humanRun_7"},{key:"humanRun_8"},{key:"humanRun_9"},{key:"humanRun_10"}],frameRate:14,repeat:-1}),this.scene.anims.create({key:"human_jump",frames:[{key:"humanJump_0"},{key:"humanJump_1"},{key:"humanJump_2"},{key:"humanJump_3"},{key:"humanJump_4"},{key:"humanJump_5"}],frameRate:14,repeat:-1}),this._currPlayer.on("animationcomplete-human_jump",()=>{this._currPlayer.play("human_run")})}updateLevel(t){this.level=t,this._currPlayer.setTexture(r[t]),this._currPlayer.play(c[t]),this.evolvePlayer(t)}evolvePlayer(t){let s=0,e=this.scene.time.addEvent({delay:200,loop:!0,callback:()=>{this._currPlayer.setVisible(!this._currPlayer.visible),(s+=200)>=2e3&&(e.remove(),this._currPlayer.setVisible(!0),this._currPlayer.setTexture(r[t]),this._currPlayer.play(c[t])),this._currPlayer.body.setSize(this._currPlayer.width,this._currPlayer.height,!0),this._currPlayer.setCollideWorldBounds(!0)}})}deadth(t){this._explosion.setVisible(!0),0==this.level||1==this.level?(this._explosion.anims.play("explosion_small",!0),this._explosion.once("animationcomplete-explosion_small",()=>{t()})):(this._explosion.anims.play("explosion_large",!0),this._explosion.once("animationcomplete-explosion_large",()=>{t()}))}jump(){this._currPlayer.play(p[this.level])}constructor(t,s){this.scene=t,this._currPlayer=this.scene.physics.add.sprite(s.x,s.y,r[s.level]),this.createAnims(),this.setVelocityX(s.initialVelocity),this.level=s.level,this._currPlayer.setTexture(r[this.level]),this._currPlayer.play(c[this.level]),this._currPlayer.body.setGravityY(s.gravityY),this._explosion=this.scene.add.sprite(this.scene.scale.width/2,s.groundY,"explosion_small"),this._explosion.setDepth(8),this._explosion.setVisible(!1)}}let u=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i;class m extends Phaser.GameObjects.Container{focus(){if(this.focused)return;let t=this.scene.__activeTextInputBox;t&&t!==this&&t.blur(),this.scene.__activeTextInputBox=this,this.focused=!0,this._touched=!0,this.keyHandler||(this.keyHandler=t=>this.handleKey(t),this.scene.input.keyboard.on("keydown",this.keyHandler)),this.caretVisible=!0,this.updateDisplay()}blur(){this.focused&&(this.focused=!1,this.keyHandler&&(this.scene.input.keyboard.off("keydown",this.keyHandler),this.keyHandler=null),this.scene.__activeTextInputBox===this&&(this.scene.__activeTextInputBox=null),this.updateDisplay())}handleKey(t){let s=t.key;if("Tab"===s){var e;null==(e=t.preventDefault)||e.call(t),this.blur();return}if("Enter"===s){"function"==typeof this.onEnter&&this.onEnter(this.value);return}return"Backspace"===s||"Delete"===s?(this.value=this.value.slice(0,-1),this._afterEdit()):1===s.length&&this.charPattern.test(s)&&this.value.length<this.maxLength?(this.value+=s,this._afterEdit()):void 0}_afterEdit(){this.updateDisplay(),this.onChange&&this.onChange(this.value)}updateDisplay(){let t=this.focused&&this.caretVisible,s=this.value.length?this.value:this.focused?"":this.placeholder;this.valueText.setText(t?"".concat(s,"|"):s),this.valueText.setStyle({parse:!1}),this._updateValidityVisual()}isValid(){let t=this.value.trim();return(!this.required||0!==t.length)&&(this.validator?!!this.validator(t):"email"!==this.type||!!this.deferEmailUntilFocus&&!this._touched||u.test(t))}isEmailValid(){let t=this.value.trim();return!!this.deferEmailUntilFocus&&!this._touched||u.test(t)}_updateValidityVisual(){let t=this.isValid(),s="email"===this.type?this._touched:this.required||this.value.length>0;this.valueText.setColor(s&&!t?this.invalidColor:this.validColor),this.bg.setTint&&(s&&!t?this.bg.setTint(0xffe6e6):this.bg.clearTint())}flashInvalid(){this.isValid()||this.scene.tweens.add({targets:this,alpha:.5,duration:80,yoyo:!0,repeat:2,onComplete:()=>this.setAlpha(1)})}setValue(t){this.value=(null!=t?t:"").toString().slice(0,this.maxLength),this._afterEdit()}getValue(){return this.value}setLabel(t){this.labelText.setText(t)}setBoxWidth(t){this.width=t,void 0!==this.bg.displayWidth?(this.bg.displayWidth=this.width,this.bg.displayHeight=this.height):this.bg.setSize(this.width,this.height),this.labelText.setPosition(this.width/2+this.labelGap,0),this.valueText.setX(-this.width/2+this.paddingX)}destroy(){var t;this.blur(),null==(t=this.caretEvt)||t.remove(!1),super.destroy()}constructor(t,s,e,i,a,h={}){var o,l,n,r,c,p,d,u;super(t,s,e),t.add.existing(this),this.width=i||420,this.height=null!=(o=h.height)?o:40,this.paddingX=null!=(l=h.paddingX)?l:10,this.maxLength=null!=(n=h.maxLength)?n:64,this.charPattern=null!=(r=h.charPattern)?r:/^[ -~]$/,this.value=null!=(c=h.value)?c:"",this.placeholder=null!=(p=h.placeholder)?p:"",this.onEnter=h.onEnter||null,this.bgKey=h.bgKey||null,this.bgFrame=h.bgFrame||null,this.labelGap=null!=(d=h.labelGap)?d:10,this.type=h.type||null,this.required=!!h.required,this.validator=h.validator||null,this.onChange="function"==typeof h.onChange?h.onChange:null,this.validColor=h.validColor||"#000000",this.invalidColor=h.invalidColor||"#b00020",this.deferEmailUntilFocus=null==(u=h.deferEmailUntilFocus)||u,this._touched=!1,this.bgKey?(this.bg=t.add.image(0,0,this.bgKey,this.bgFrame).setOrigin(.5,.5).setInteractive({useHandCursor:!0}),this.width=this.bg.width,this.height=this.bg.height):this.bg=t.add.rectangle(0,0,this.width,this.height,2236962,.9).setOrigin(.5,.5).setInteractive({useHandCursor:!0}),this.labelText=t.add.text(this.width/2+this.labelGap,0,"".concat(a),{fontSize:"20px",color:"#ffff00",parse:!1}).setOrigin(0,.5).setInteractive({useHandCursor:!0});let m=this.width/2-this.paddingX;this.valueText=t.add.text(m,0,"",{fontSize:"20px",color:"#000000",padding:{top:0,right:0,bottom:6,left:0},fixedWidth:this.width-2*this.paddingX,align:"right",wordWrap:{width:this.width-2*this.paddingX,useAdvancedWrap:!0}}).setOrigin(1,.5),this.add([this.bg,this.valueText,this.labelText]),this.focused=!1,this.caretVisible=!0,this.keyHandler=null,this.caretEvt=t.time.addEvent({delay:500,loop:!0,callback:()=>{this.focused&&(this.caretVisible=!this.caretVisible,this.updateDisplay())}}),this.bg.on("pointerdown",()=>this.focus()),this.labelText.on("pointerdown",()=>this.focus()),this.bg.setTint?(this.bg.on("pointerover",()=>this.bg.setTint(0xdddddd)),this.bg.on("pointerout",()=>this.bg.clearTint())):(this.bg.on("pointerover",()=>this.bg.setFillStyle(3355443)),this.bg.on("pointerout",()=>this.bg.setFillStyle(2236962))),this.updateDisplay()}}class g{setPosition(t,s){return this.sprite.setPosition(t,s),this.label&&this.label.setPosition(t,s+this._labelDy),this}setX(t){return this.setPosition(t,this.sprite.y)}setY(t){return this.setPosition(this.sprite.x,t)}setDepth(t){return this.sprite.setDepth(t),this.label&&this.label.setDepth(t+1),this}setScale(t,s){return this.baseScaleX=t,this.baseScaleY=null!=s?s:t,this.sprite.setScale(this.baseScaleX,this.baseScaleY),this.label&&this.label.setScale(this.baseScaleX,this.baseScaleY),this}setVisible(t){return this.sprite.setVisible(t),this.label&&this.label.setVisible(t),this}setAlpha(t){return this.sprite.setAlpha(t),this.label&&this.label.setAlpha(t),this}setEnabled(t){return t?this.sprite.setInteractive({useHandCursor:!0}):this.sprite.disableInteractive(),this.setAlpha(t?1:.6),this}setLabel(t){return this.label&&this.label.setText(t),this}destroy(){this.sprite&&(this.sprite.off("pointerover",this._onOver),this.sprite.off("pointerout",this._onOut),this.sprite.off("pointerdown",this._onDown),this.sprite.off("pointerup",this._onUp),this.sprite.off("pointerupoutside",this._onUpOutside),this.sprite.destroy(),this.label&&this.label.destroy(),this.sprite=null,this.label=null)}constructor(t,s,e,i,a="",h=()=>{},o={}){this.scene=t,this.onClick=h;let{frame:l=null,fontSize:n=18,labelColor:r="#ffffff",labelDy:c=0,hoverTint:p=0xdedede,downTint:d=0xbdbdbd,upTint:u=null,useHand:m=!0,pressScale:g=.98,depth:y=null}=o;this._tints={hoverTint:p,downTint:d,upTint:u},this._pressScale=g,this._labelDy=c,this._isOver=!1,this.sprite=t.add.sprite(s,e,i,l).setOrigin(.5,0).setInteractive({useHandCursor:m}),this.baseScaleX=this.sprite.scaleX,this.baseScaleY=this.sprite.scaleY,null!==y&&this.sprite.setDepth(y),null!==u&&this.sprite.setTint(u),this.label=null,a&&(this.label=t.add.text(s,e+c,a,{fontSize:"".concat(n,"px"),color:r}).setOrigin(.5),null!==y&&this.label.setDepth(y+1),this.label.setAlpha(.95)),this._onOver=()=>{this._isOver=!0,null!==p&&this.sprite.setTint(p),this.label&&this.label.setAlpha(1)},this._onOut=()=>{this._isOver=!1,null!==u?this.sprite.setTint(u):this.sprite.clearTint(),this.sprite.setScale(this.baseScaleX,this.baseScaleY),this.label&&this.label.setAlpha(.95)},this._onDown=()=>{null!==d&&this.sprite.setTint(d),this._pressScale&&this.sprite.setScale(this.baseScaleX*this._pressScale,this.baseScaleY*this._pressScale)},this._onUp=t=>{this._isOver?null!==p&&this.sprite.setTint(p):null!==u?this.sprite.setTint(u):this.sprite.clearTint(),this.sprite.setScale(this.baseScaleX,this.baseScaleY),this._isOver&&this.onClick(t)},this._onUpOutside=()=>{this._isOver=!1,null!==u?this.sprite.setTint(u):this.sprite.clearTint(),this.sprite.setScale(this.baseScaleX,this.baseScaleY),this.label&&this.label.setAlpha(.95)},this.sprite.on("pointerover",this._onOver),this.sprite.on("pointerout",this._onOut),this.sprite.on("pointerdown",this._onDown),this.sprite.on("pointerup",this._onUp),this.sprite.on("pointerupoutside",this._onUpOutside)}}class y{showForm(){this.logo.setVisible(!1),this.coin.setVisible(!0),this.coin.setScale(2),this.coin.play("coinSpin"),this.coin.anims.timeScale=.5,this.nameBox.setVisible(!0),this.companyBox.setVisible(!0),this.emailBox.setVisible(!0),this.submitBg.setVisible(!0),this.instructionBox.setVisible(!0),this.instructionBox_text.setVisible(!0)}updateDisplay(){let t=this.cursorVisible?"|":" ",s=this.inputFields[this.currentFieldIndex];"name"===s?(this.fieldTexts.name.setFill("#ffffff"),this.fieldTexts.company.setFill("#ffff00"),this.fieldTexts.email.setFill("#ffff00"),this.backgroundRects.name.setStrokeStyle(2,8978312),this.backgroundRects.company.setStrokeStyle(2,4473924),this.backgroundRects.email.setStrokeStyle(2,4473924)):"company"===s&&(this.fieldTexts.name.setFill("#ffff00"),this.fieldTexts.email.setFill("#ffff00"),this.fieldTexts.company.setFill("#ffffff"),this.backgroundRects.name.setStrokeStyle(2,4473924),this.backgroundRects.email.setStrokeStyle(2,4473924),this.backgroundRects.company.setStrokeStyle(2,8978312)),this.fieldTexts.name.setText("Name: ".concat(this.inputData.name).concat("name"===s?t:"")),this.fieldTexts.company.setText("Company: ".concat(this.inputData.company).concat("company"===s?t:"")),this.fieldTexts.email.setText("Email: ".concat(this.inputData.company).concat("Email"===s?t:""))}trySubmit(){var t;let s=this.nameBox.getValue().trim(),e=this.companyBox.getValue().trim(),i=this.emailBox.getValue().trim();if(!this.emailBox.isValid())return void this.emailBox.flashInvalid();null==(t=this.onStartCallback)||t.call(this,{name:s,company:e,email:i})}setDepth(t){this.logo.setDepth(t),this.nameInput&&this.nameInput.setDepth(t),this.startButton&&this.startButton.setDepth(t),this.nameLabel&&this.nameLabel.setDepth(t),this.nameInput&&this.nameInput.setDepth(t),this.instructionBox.setDepth(t),this.instructionBox_text.setDepth(t+1)}setVisible(t){this.coin.setVisible(t),this.nameBox.setVisible(t),this.companyBox.setVisible(t),this.emailBox.setVisible(t),this.submitBg.setVisible(t),this.instructionBox.setVisible(t),this.instructionBox_text.setVisible(t)}constructor(t,s){this.scene=t,this.onStartCallback=s,this.logo=t.add.sprite(t.scale.width/2,t.scale.height/2+70,"Logo").setOrigin(.5),this.logo.setScale(3),t.input.once("pointerdown",()=>this.showForm()),this.scene.time.delayedCall(3e3,()=>{this.showForm()}),this.coin=this.scene.add.sprite(.5*this.scene.scale.width,.2*this.scene.scale.height,"coin0000").setOrigin(.5,.5),this.coin.setVisible(!1),this.nameBox=new m(this.scene,this.coin.x,this.coin.y+2*this.coin.height+50,420,"",{placeholder:"_YourName_",maxLength:40,onEnter:()=>this.companyBox.focus(),bgKey:"nameLabel"}),this.nameBox.setVisible(!1),this.companyBox=new m(this.scene,this.nameBox.x,this.nameBox.y+this.nameBox.height+50,420,"",{placeholder:"_CompanyName_",maxLength:60,onEnter:()=>this.emailBox.focus(),bgKey:"companyLabel"}),this.companyBox.setVisible(!1),this.emailBox=new m(this.scene,this.nameBox.x,this.companyBox.y+this.companyBox.height+50,420,"",{type:"email",required:!0,placeholder:"_Email_",charPattern:/^[a-zA-Z0-9@._+\-]$/,onEnter:()=>this.trySubmit(),bgKey:"emailLabel"}),this.emailBox.setVisible(!1),this.submitBg=new g(this.scene,this.nameBox.x,this.emailBox.y+this.emailBox.height/2+50,"startBtn","",this.trySubmit.bind(this),{fontSize:22,hoverTint:0xe6e6ff,downTint:0xc7c7ff,upTint:null,pressScale:.98,useHand:!0,labelDy:0,depth:20}),this.submitBg.setVisible(!1),this.instructionBox=this.scene.add.sprite(50,0,"instructionBox").setOrigin(0,1),this.instructionBox.setY(this.scene.scale.height-50),this.instructionBox.setVisible(!1),this.instructionBox_text=this.scene.add.text(this.instructionBox.x+this.instructionBox.width/2,this.instructionBox.y-this.instructionBox.height/2,"Catch the coins!\ndon't touch the fossils!",{fontFamily:"Arial",fontSize:"24px",fill:"#000000ff",align:"center"}),this.instructionBox_text.setOrigin(.5,.5),this.instructionBox_text.setVisible(!1)}}class _{updateCoin(t){this._coins+=0|t,this.coinText.setText(this.formatCompactMax(t,8)),this._bump(this.coinText)}updateDistance(t){this._distance+=t,this.distanceText.setText(this.formatCompactMax(this._distance,8)+"m"),this._bump(this.distanceText)}getScore(){return this._distance}_bump(t){this.scene.tweens.add({targets:t,scaleX:1.08,scaleY:1.08,duration:80,yoyo:!0,ease:"Quad.easeOut"})}setDepth(t){this.leftBg.setDepth(t),this.coinText.setDepth(t+1),this.rightBg.setDepth(t),this.distanceText.setDepth(t+1)}formatCompactMax(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,e=["","k","M","B","T","P","E"],i=t<0?"-":"",a=Math.abs(t),h=i+String(Math.floor(a));if(h.length<=s)return h;for(let t=1;t<e.length;t++){let h=a/Math.pow(1e3,t);for(let a=2;a>=0;a--){let o=h.toFixed(a).replace(/\.0+$|(\.\d*[1-9])0+$/,"$1");if("1000"===o&&t<e.length-1){let a=i+"1"+e[t+1];if(a.length<=s)return a}let l=i+o+e[t];if(l.length<=s)return l}}let o=e.length-1;return i+Math.round(a/Math.pow(1e3,o))+e[o]}destroy(){this.scene.scale.off("resize",this._onResize),this.leftBg.destroy(),this.rightBg.destroy(),this.coinText.destroy(),this.distanceText.destroy()}constructor(t,s={}){this.scene=t;let{leftBgKey:e="uiBoxLeft",rightBgKey:i="uiBoxRight",boxWidth:a=null,boxHeight:h=null,margin:o=16,pad:l=12,fontFamily:n="Press Start 2P",fontSize:r=18,textColor:c="#ffffff",depth:p=1e3}=s;this.margin=o,this.pad=l,this.leftBg=t.add.image(o,o,e).setOrigin(0,0).setScrollFactor(0).setDepth(p),this.coinText=t.add.text(this.leftBg.x+this.leftBg.displayWidth-l,this.leftBg.y+this.leftBg.displayHeight/2,"0",{fontSize:"".concat(r,"px"),color:c,padding:{bottom:6},align:"left"}).setOrigin(1,.5).setScrollFactor(0).setDepth(p+1),this.rightBg=t.add.image(t.scale.width-o,o,i).setOrigin(1,0).setScrollFactor(0).setDepth(p),this.distanceLabel=t.add.text(this.rightBg.x-2*this.rightBg.displayWidth+180,this.rightBg.y+this.rightBg.displayHeight/2,"SCORE",{fontSize:"".concat(r,"px"),color:c,padding:{bottom:6},align:"right",fixedWidth:this.rightBg.displayWidth-2*this.pad,wordWrap:{width:this.rightBg.displayWidth-2*this.pad,useAdvancedWrap:!0}}).setOrigin(0,.5).setScrollFactor(0).setDepth(p+1),this.distanceText=t.add.text(this.rightBg.x-this.pad,this.rightBg.y+this.rightBg.displayHeight/2,"0m",{fontSize:"".concat(r,"px"),color:c,padding:{bottom:6}}).setOrigin(1,.5).setScrollFactor(0).setDepth(p+1),this._coins=0,this._distance=0}}class b{static getInstance(t){return b.instance||(b.instance=new b(t)),b.instance}preload(){}playMusic(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{loop:!0,volume:.5};this.music&&this.music.stop(),this.music=this.scene.sound.add(t,s),this.music.play()}stopMusic(){this.music&&(this.music.stop(),this.music=null)}pauseMusic(){this.music&&this.music.pause()}resumeMusic(){this.music&&this.music.resume()}setVolume(t){this.music&&this.music.setVolume(t)}constructor(t){if(b.instance)return b.instance;this.scene=t,this.music=null,b.instance=this}}b.instance=null;class k{setLevel(t){this.level=t}setScore(t){console.log(this.score),this.score.setText(t)}setDepth(t){this.popupBg.setDepth(t),this.scoreBox.setDepth(t),t++,this.scoreTitle.setDepth(t),this.score.setDepth(t),this.title.setDepth(t),this.fossil_lizard.setDepth(t),this.fossil_bird.setDepth(t),this.fossil_monkey.setDepth(t),this.fossil_man.setDepth(t),this.text.setDepth(t),this.redoBtn.setDepth(t),this.closeBtn.setDepth(t)}setVisible(t){this.popupBg.setVisible(t),this.scoreBox.setVisible(t),this.scoreTitle.setVisible(t),this.score.setVisible(t),this.title.setVisible(t),0==this.level?(this.fossil_lizard.setVisible(t),this.title.setText("GAME OVER"),this.text.setPosition(this.text.x,this.fossil_lizard.y+.2*this.fossil_lizard.height),this.text.setText("You fossilized!\nBetter luck next time!")):1==this.level?(this.fossil_bird.setVisible(t),this.title.setText("GAME OVER"),this.text.setPosition(this.text.x,this.fossil_bird.y+.2*this.fossil_bird.height),this.text.setText("You fossilized!\nBetter luck next time!")):2==this.level?(this.fossil_monkey.setVisible(t),this.title.setText("GAME OVER"),this.text.setPosition(this.text.x,this.fossil_monkey.y+.2*this.fossil_monkey.height),this.text.setText("You fossilized!\nBetter luck next time!")):(this.fossil_man.setVisible(t),this.title.setText("WAY TO GO!"),this.text.setText("What will you\nevolve into next?"),this.fossil_man.play("human_run")),this.text.setVisible(t),this.redoBtn.setVisible(t),this.closeBtn.setVisible(t)}constructor(t,s){this.scene=t,this.onReload=s,this.level=1,this.popupBg=this.scene.add.sprite(.5*this.scene.scale.width,.5*this.scene.scale.height,"popup_bg").setOrigin(.5,.5),this.scoreBox=this.scene.add.sprite(.5*this.scene.scale.width,this.popupBg.y-this.popupBg.height/2,"scorebox").setOrigin(.5,1),this.scoreTitle=this.scene.add.text(this.scoreBox.x-.2*this.scoreBox.width,this.scoreBox.y-.5*this.scoreBox.height,"SCORE",{fontSize:"24px",color:"#000000ff"}).setOrigin(.5),this.score=this.scene.add.text(this.scoreBox.x+.5*this.scoreBox.width-100,this.scoreTitle.y,"0000",{fontSize:"24px",color:"#000000ff"}).setOrigin(.5),this.title=this.scene.add.text(this.scoreBox.x,this.scoreBox.y+100,"GAME OVER",{fontSize:"36px",color:"#000000ff"}).setOrigin(.5),this.fossil_lizard=this.scene.add.sprite(this.title.x,this.title.y+100,"lizardFossil").setOrigin(.5),this.fossil_lizard.setScale(.3),this.fossil_lizard.setPosition(this.popupBg.x,this.popupBg.y),this.fossil_lizard.setVisible(!1),this.fossil_bird=this.scene.add.sprite(this.title.x,this.title.y+100,"birdFossil").setOrigin(.5),this.fossil_bird.setScale(.3),this.fossil_bird.setPosition(this.popupBg.x,this.popupBg.y),this.fossil_bird.setVisible(!1),this.fossil_monkey=this.scene.add.sprite(this.title.x,this.title.y+100,"monkeyFossil").setOrigin(.5),this.fossil_monkey.setScale(.3),this.fossil_monkey.setPosition(this.popupBg.x,this.popupBg.y+25),this.fossil_monkey.setVisible(!1),this.fossil_man=this.scene.add.sprite(this.title.x,this.title.y+100,"man").setOrigin(.5,.5),this.fossil_man.setScale(2),this.fossil_man.setPosition(this.popupBg.x,this.popupBg.y),this.fossil_man.setVisible(!1),this.text=this.scene.add.text(this.popupBg.x,this.popupBg.y+150,"You fossilized!\nBetter luck next time!",{fontSize:"36px",color:"#000000ff"}).setOrigin(.5),this.redoBtn=new g(this.scene,this.popupBg.x-.1*this.popupBg.width,this.popupBg.y+this.popupBg.height/2+25,"Retry","",()=>{this.onReload()},{fontSize:22,hoverTint:0xe6e6ff,downTint:0xc7c7ff,upTint:null,pressScale:.98,useHand:!0,labelDy:0,depth:20}),this.closeBtn=new g(this.scene,this.popupBg.x+.1*this.popupBg.width,this.popupBg.y+this.popupBg.height/2+25,"Close","",()=>{this.scene.scene.start("LandingScene")},{fontSize:22,hoverTint:0xe6e6ff,downTint:0xc7c7ff,upTint:null,pressScale:.98,useHand:!0,labelDy:0,depth:20})}}class x extends Phaser.Scene{init(t){this.playerName=t.playerName||"Anonymous",this.gameStart=!1,this.getInfo=t.getInfo,this.name=t.name,this.company=t.company,this.email=t.email}create(){this.audio=b.getInstance(this),this.ui=new _(this,{leftBgKey:"coinLabel",rightBgKey:"scoreLabel",boxWidth:0,boxHeight:0,fontFamily:"Press Start 2P",fontSize:44,textColor:"#000000ff",margin:16,pad:14,depth:9999}),this.jumpCount=0,this.coinsCollected=0,this.level=0,this.rocksPassed=0,this.rocksPassedPrev=-1,this.levelSprites=["lizard","ostrich","monkey_1","man"],this.gravityY=0,this.rockSpeed=-500,this.baseSpeed=-200,this.rockStepSpeed=25,this.maxRockSpeed=-1e3,this.jumpVelocity=-800,this.jumpBaseVelocity=-600,this.jumpStepVelocity=15,this.maxJumpVelocity=-1e3,this.distance=0,this.speedEveryPixels=2500,this._nextSpeedAt=this.speedEveryPixels,this.background=new o(this,this.onGroundReset.bind(this)),this.background.setVelocityX(this.rockSpeed),this.ground=this.add.rectangle(this.scale.width/2,this.background.ground._0.y-this.background.ground._0.height+25,this.scale.width,2,0),this.ground.alpha=0,this.physics.add.existing(this.ground,!0);var t={x:this.scale.width/2,y:this.ground.y-100,level:this.level,scale:1,initialVelocity:0,gravityY:this.gravityY,groundY:this.ground.y};this.player=new d(this,t),this.player.setVisible(!1),this.physics.add.collider(this.player.getColliders(),this.ground,()=>{this.jumpCount=0});var s={x:this.background.ground._0.width+this.background.ground._1.width+Math.random()*this.background.ground._0.width,y:this.background.ground._0.y-this.background.ground._0.height-10,speed:0,rockBase:this.background.ground._0};if(this.rock=new l(this,s),this.rock._sprite.setDepth(6),this.player._currPlayer.setDepth(7),this.coins=new n(this),this.physics.add.overlap(this.player.getColliders(),this.rock.getColliders(),this.handleHit,null,this),this.physics.add.overlap(this.player.getColliders(),this.coins.getColliders(),this.collectCoin,null,this),this.spaceKey=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE),this.getInfo)this.startPopup=new y(this,this.beginGameplay.bind(this)),this.startPopup.setDepth(10);else{let t=this.name,s=this.company,e=this.email;this.beginGameplay({name:t,company:s,email:e})}this.gameOverPopup=new k(this,this.reloadGame.bind(this)),this.gameOverPopup.setDepth(10),this.gameOverPopup.setVisible(!1)}update(t,s){if(this.background.update(),this.gameStart&&(this.distance<=100?this.distance++:(this.distance=0,this.ui.updateDistance(1)),Phaser.Input.Keyboard.JustDown(this.spaceKey)&&this.jumpCount<1&&(this.player._currPlayer.setVelocityY(this.jumpVelocity),this.jumpCount++,this.player.jump()),!this.rock.playerPassed&&this.rock._sprite.x+this.rock._sprite.width<this.player._currPlayer.x&&(this.rock.playerPassed=!0,this.rocksPassed++,this.level!=this.levelSprites.length-1&&this.rocksPassed>this.rocksPassedPrev&&(this.rockSpeed-=this.rockStepSpeed,this.gravityY=this.gravityY+10,this.jumpVelocity-=this.jumpStepVelocity,this.player._currPlayer.setGravityY(this.gravityY),this.rocksPassedPrev=this.rocksPassed,this.background.setVelocityX(this.rockSpeed))),this.rocksPassed%10==0)){let t=Math.floor(this.rocksPassed/10);t!==this.level&&t<this.levelSprites.length&&(this.level=t,this.player.updateLevel(this.level))}}beginGameplay(t){let{name:s,company:e,email:i}=t;this.name=s,this.company=e,this.email=i,console.log(s),console.log(e),console.log(i),this.startPopup.setVisible(!1),this.gameStart=!0,this.background.gameStart=!0,this.player.setVisible(!0),this.spawnCoins(this.rock.getX(),this.rock.getY()),this.rock.setVelocityX(this.rockSpeed),this.background.setVelocityX(this.rockSpeed),this.coins.setVelocityX(this.rockSpeed)}reloadGame(){this.scene.start("GameScene",{getInfo:!1,name:this.name,company:this.company,email:this.email})}handleHit(t,s){this.level==this.levelSprites.length-1?this.player.deadth(()=>{this.scene.start("LeaderboardScene",{playerName:this.playerName,coins:this.coinsCollected})}):this.player.deadth(this.showGameOver.bind(this)),this.rockSpeed=0,this.rock.setVelocityX(this.rockSpeed),this.background.setVelocityX(this.rockSpeed),this.coins.setVelocityX(this.rockSpeed)}showGameOver(){this.gameOverPopup.setLevel(this.level),console.log(this.ui.getScore()),this.gameOverPopup.setScore(this.ui.getScore()),this.gameOverPopup.setVisible(!0),this.gameStart=!1}onGroundReset(t){t[0]?(this.rock.resetRockPos(this.rockSpeed),this.spawnCoins(this.rock.getX(),this.rock.getY()-100)):t[1]&&Math.floor(10*Math.random())>5&&this.spawnCoins(this.background.ground._1.x+200+Math.floor(Math.random()*(this.background.ground._1.width-400)),this.rock.getY()-100)}collectCoin(t,s){s.destroy(),this.coinsCollected+=100,this.ui.updateCoin(this.coinsCollected)}spawnCoins(t,s){var e={maxCount:6,minCount:1,arcWidth:150,arcHeight:150,startDeg:-180,endDeg:0,speedX:this.rockSpeed,scale:1};this.coins.spawnCoinsArc(t,s,e)}constructor(){super("GameScene"),this.gameStart=!1,this.distance=0}}class f extends Phaser.Scene{create(){this.add.text(280,250,"Game Over",{fontSize:"48px",fill:"#ff0000"}),this.time.delayedCall(5e3,()=>{this.scene.start("LandingScene")})}constructor(){super("GameOverScene")}}class v extends Phaser.Scene{init(t){this.playerName=t.playerName,this.coins=t.coins,this.highScores=[]}create(){this.highScores.push({name:this.playerName,coins:this.coins}),this.highScores.sort((t,s)=>s.coins-t.coins),this.highScores=this.highScores.slice(0,5),this.add.text(250,150,"Leaderboard",{fontSize:"40px",fill:"#fff"}),this.highScores.forEach((t,s)=>{this.add.text(220,220+30*s,"".concat(s+1,". ").concat(t.name," - ").concat(t.coins," coins"),{fontSize:"24px",fill:"#ffff00"})}),this.time.delayedCall(2e3,()=>{this.scene.start("LandingScene")})}constructor(){super("LeaderboardScene")}}let S={type:Phaser.AUTO,width:1920,height:1080,dom:{createContainer:!0},physics:{default:"arcade",arcade:{gravity:{y:700},debug:!1}},scene:[a,x,f,v]};new Phaser.Game(S)}}]);